
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>TiDB性能测试 · 越过山丘</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="lviter">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-footer-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-insert-logo/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="延迟队列解决方案.html" />
    
    
    <link rel="prev" href="OAuth2.0授权登录调研.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/lviter/professional" target="_blank" class="custom-link">GitHub</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Java-技能/">
            
                <a href="../Java-技能/">
            
                    
                    Java-技能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Java-技能/IO模型/">
            
                <a href="../Java-技能/IO模型/">
            
                    
                    IO模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Java-技能/JVM/">
            
                <a href="../Java-技能/JVM/">
            
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../Java-技能/JVM/深入理解JVM-jdk1.7/">
            
                <a href="../Java-技能/JVM/深入理解JVM-jdk1.7/">
            
                    
                    深入理解JVM-jdk1.7
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1.1" data-path="../Java-技能/JVM/深入理解JVM-jdk1.7/HotSpot虚拟机对象探秘.html">
            
                <a href="../Java-技能/JVM/深入理解JVM-jdk1.7/HotSpot虚拟机对象探秘.html">
            
                    
                    HotSpot虚拟机对象探秘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.1.2" data-path="../Java-技能/JVM/深入理解JVM-jdk1.7/JVM调优-jdk1.8.html">
            
                <a href="../Java-技能/JVM/深入理解JVM-jdk1.7/JVM调优-jdk1.8.html">
            
                    
                    JVM调优-jdk1.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.1.3" data-path="../Java-技能/JVM/深入理解JVM-jdk1.7/OutOfMemoryError异常.html">
            
                <a href="../Java-技能/JVM/深入理解JVM-jdk1.7/OutOfMemoryError异常.html">
            
                    
                    OutOfMemoryError异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.1.4" data-path="../Java-技能/JVM/深入理解JVM-jdk1.7/垃圾收集器与内存分配策略.html">
            
                <a href="../Java-技能/JVM/深入理解JVM-jdk1.7/垃圾收集器与内存分配策略.html">
            
                    
                    垃圾收集器与内存分配策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.1.5" data-path="../Java-技能/JVM/深入理解JVM-jdk1.7/自动内存管理机制.html">
            
                <a href="../Java-技能/JVM/深入理解JVM-jdk1.7/自动内存管理机制.html">
            
                    
                    自动内存管理机制
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    多线程
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../Java-技能/多线程/AQS.html">
            
                <a href="../Java-技能/多线程/AQS.html">
            
                    
                    AQS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../Java-技能/多线程/CAS自旋锁.html">
            
                <a href="../Java-技能/多线程/CAS自旋锁.html">
            
                    
                    CAS自旋锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../Java-技能/多线程/Java锁.html">
            
                <a href="../Java-技能/多线程/Java锁.html">
            
                    
                    Java锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../Java-技能/多线程/JMM内存模型Volatile关键字.html">
            
                <a href="../Java-技能/多线程/JMM内存模型Volatile关键字.html">
            
                    
                    JMM内存模型Volatile关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../Java-技能/多线程/Synchronized锁详解.html">
            
                <a href="../Java-技能/多线程/Synchronized锁详解.html">
            
                    
                    Synchronized锁详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../Java-技能/多线程/ThreadLocal详解.html">
            
                <a href="../Java-技能/多线程/ThreadLocal详解.html">
            
                    
                    ThreadLocal详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="../Java-技能/多线程/一部分并发理论基础.html">
            
                <a href="../Java-技能/多线程/一部分并发理论基础.html">
            
                    
                    一部分并发理论基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.8" data-path="../Java-技能/多线程/二部分并发工具类详解.html">
            
                <a href="../Java-技能/多线程/二部分并发工具类详解.html">
            
                    
                    二部分并发工具类详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.9" data-path="../Java-技能/多线程/多线程面试题总结.html">
            
                <a href="../Java-技能/多线程/多线程面试题总结.html">
            
                    
                    多线程面试题总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    数据处理
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../Java-技能/数据处理/json.html">
            
                <a href="../Java-技能/数据处理/json.html">
            
                    
                    Json
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" >
            
                <span>
            
                    
                    网络
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" >
            
                <span>
            
                    
                    Http
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1.1" data-path="../Java-技能/网络/http/HTTP常见错误码.html">
            
                <a href="../Java-技能/网络/http/HTTP常见错误码.html">
            
                    
                    HTTP常见错误码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.1.2" data-path="../Java-技能/网络/http/HTTP常见面试.html">
            
                <a href="../Java-技能/网络/http/HTTP常见面试.html">
            
                    
                    HTTP常见面试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../Java-技能/网络/TCP协议.html">
            
                <a href="../Java-技能/网络/TCP协议.html">
            
                    
                    TCP协议
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../Java-技能/网络/计算机网络.html">
            
                <a href="../Java-技能/网络/计算机网络.html">
            
                    
                    计算机网络
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../Java-技能/设计模式/">
            
                <a href="../Java-技能/设计模式/">
            
                    
                    设计模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../Java-技能/设计模式/创建型模型/">
            
                <a href="../Java-技能/设计模式/创建型模型/">
            
                    
                    创建型模型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1.1" data-path="../Java-技能/设计模式/创建型模型/单例模式.html">
            
                <a href="../Java-技能/设计模式/创建型模型/单例模式.html">
            
                    
                    单例模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.1.2" data-path="../Java-技能/设计模式/创建型模型/简单工厂模式.html">
            
                <a href="../Java-技能/设计模式/创建型模型/简单工厂模式.html">
            
                    
                    简单工厂模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../Java-技能/设计模式/行为模型/">
            
                <a href="../Java-技能/设计模式/行为模型/">
            
                    
                    行为模型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.2.1" data-path="../Java-技能/设计模式/行为模型/命令模式.html">
            
                <a href="../Java-技能/设计模式/行为模型/命令模式.html">
            
                    
                    命令模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2.2" data-path="../Java-技能/设计模式/行为模型/模板方法设计模式.html">
            
                <a href="../Java-技能/设计模式/行为模型/模板方法设计模式.html">
            
                    
                    模板方法设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2.3" data-path="../Java-技能/设计模式/行为模型/策略模式.html">
            
                <a href="../Java-技能/设计模式/行为模型/策略模式.html">
            
                    
                    策略模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2.4" data-path="../Java-技能/设计模式/行为模型/责任链模式.html">
            
                <a href="../Java-技能/设计模式/行为模型/责任链模式.html">
            
                    
                    责任链模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../Java-技能/设计模式/设计模式基础概念.html">
            
                <a href="../Java-技能/设计模式/设计模式基础概念.html">
            
                    
                    设计模式基础概念
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../Java-技能/集合/">
            
                <a href="../Java-技能/集合/">
            
                    
                    集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../Java-技能/集合/Collection/">
            
                <a href="../Java-技能/集合/Collection/">
            
                    
                    Collection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1.1" data-path="../Java-技能/集合/Collection/ArrayList详解.html">
            
                <a href="../Java-技能/集合/Collection/ArrayList详解.html">
            
                    
                    ArrayList详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.1.2" data-path="../Java-技能/集合/Collection/CopyOnWriteArrayList详解.html">
            
                <a href="../Java-技能/集合/Collection/CopyOnWriteArrayList详解.html">
            
                    
                    CopyOnWriteArrayList详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.1.3" data-path="../Java-技能/集合/Collection/HashSet详解.html">
            
                <a href="../Java-技能/集合/Collection/HashSet详解.html">
            
                    
                    HashSet详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.1.4" data-path="../Java-技能/集合/Collection/Java集合面试.html">
            
                <a href="../Java-技能/集合/Collection/Java集合面试.html">
            
                    
                    Java集合面试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.1.5" data-path="../Java-技能/集合/Collection/Map详解.html">
            
                <a href="../Java-技能/集合/Collection/Map详解.html">
            
                    
                    Map详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.1.6" data-path="../Java-技能/集合/Collection/Queue.html">
            
                <a href="../Java-技能/集合/Collection/Queue.html">
            
                    
                    Queue
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../Java-技能/集合/Fail-Fast.html">
            
                <a href="../Java-技能/集合/Fail-Fast.html">
            
                    
                    Fail Fast
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../Java-技能/常用lambda表达式.html">
            
                <a href="../Java-技能/常用lambda表达式.html">
            
                    
                    常用lambda表达式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../linux/">
            
                <a href="../linux/">
            
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Centos
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../linux/centos/基础操作命令.html">
            
                <a href="../linux/centos/基础操作命令.html">
            
                    
                    基础操作命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../中间件/">
            
                <a href="../中间件/">
            
                    
                    中间件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Elastic Search
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../中间件/ElasticSearch/Es-Nested嵌套查询.html">
            
                <a href="../中间件/ElasticSearch/Es-Nested嵌套查询.html">
            
                    
                    Es-Nested嵌套查询
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../中间件/ElasticSearch/Es7.4.2-RestHighLevelClient增删改查.html">
            
                <a href="../中间件/ElasticSearch/Es7.4.2-RestHighLevelClient增删改查.html">
            
                    
                    Es7.4.2-RestHighLevelClient增删改查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../中间件/ElasticSearch/Es基础查询.html">
            
                <a href="../中间件/ElasticSearch/Es基础查询.html">
            
                    
                    Es基础查询
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../中间件/ElasticSearch/Es基础语法.html">
            
                <a href="../中间件/ElasticSearch/Es基础语法.html">
            
                    
                    Es基础语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="../中间件/ElasticSearch/es复杂统计-绝对值.html">
            
                <a href="../中间件/ElasticSearch/es复杂统计-绝对值.html">
            
                    
                    es复杂统计-绝对值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="../中间件/ElasticSearch/es通用查询.html">
            
                <a href="../中间件/ElasticSearch/es通用查询.html">
            
                    
                    es通用查询
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.7" data-path="../中间件/ElasticSearch/安装ELK.html">
            
                <a href="../中间件/ElasticSearch/安装ELK.html">
            
                    
                    安装ELK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.8" data-path="../中间件/ElasticSearch/搜索引擎.html">
            
                <a href="../中间件/ElasticSearch/搜索引擎.html">
            
                    
                    搜索引擎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Postgressql
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../中间件/Postgressql/初始Psql.html">
            
                <a href="../中间件/Postgressql/初始Psql.html">
            
                    
                    初始Psql
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../中间件/redis/">
            
                <a href="../中间件/redis/">
            
                    
                    Redis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../中间件/redis/Redis实现延迟队列.html">
            
                <a href="../中间件/redis/Redis实现延迟队列.html">
            
                    
                    Redis实现延迟队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../中间件/redis/Redis数据结构.html">
            
                <a href="../中间件/redis/Redis数据结构.html">
            
                    
                    Redis数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../中间件/redis/Redis核心1-11基础篇.html">
            
                <a href="../中间件/redis/Redis核心1-11基础篇.html">
            
                    
                    Redis核心1-11基础篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../中间件/redis/Redis核心12-21高级篇.html">
            
                <a href="../中间件/redis/Redis核心12-21高级篇.html">
            
                    
                    Redis核心12-21高级篇
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../中间件/消息队列/消息队列.html">
            
                <a href="../中间件/消息队列/消息队列.html">
            
                    
                    消息队列
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" >
            
                <span>
            
                    
                    Kafka
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1.1" data-path="../中间件/消息队列/Kafka/Kafka入门.html">
            
                <a href="../中间件/消息队列/Kafka/Kafka入门.html">
            
                    
                    Kafka入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.1.2" data-path="../中间件/消息队列/Kafka/Kafka消费超时导致重复消费.html">
            
                <a href="../中间件/消息队列/Kafka/Kafka消费超时导致重复消费.html">
            
                    
                    Kafka消费超时导致重复消费
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4.2" >
            
                <span>
            
                    
                    Rabbit Mq
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.2.1" data-path="../中间件/消息队列/RabbitMq/RabbitMQ安装及使用.html">
            
                <a href="../中间件/消息队列/RabbitMq/RabbitMQ安装及使用.html">
            
                    
                    RabbitMQ安装及使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../企业项目框架/">
            
                <a href="../企业项目框架/">
            
                    
                    企业项目框架
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <span>
            
                    
                    DDD领域
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../企业项目框架/DDD领域/日常使用遇到的.html">
            
                <a href="../企业项目框架/DDD领域/日常使用遇到的.html">
            
                    
                    日常使用遇到的
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../企业项目框架/dubbo/">
            
                <a href="../企业项目框架/dubbo/">
            
                    
                    Dubbo
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../企业项目框架/dubbo/Dubbo.html">
            
                <a href="../企业项目框架/dubbo/Dubbo.html">
            
                    
                    Dubbo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../企业项目框架/dubbo/分布式服务框架.html">
            
                <a href="../企业项目框架/dubbo/分布式服务框架.html">
            
                    
                    分布式服务框架
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../企业项目框架/ORM框架/">
            
                <a href="../企业项目框架/ORM框架/">
            
                    
                    ORM框架
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../企业项目框架/ORM框架/Mybatis详解.html">
            
                <a href="../企业项目框架/ORM框架/Mybatis详解.html">
            
                    
                    Mybatis详解
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../企业项目框架/Spring/">
            
                <a href="../企业项目框架/Spring/">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../企业项目框架/Spring/InitillizingBean.html">
            
                <a href="../企业项目框架/Spring/InitillizingBean.html">
            
                    
                    Initillizing Bean
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../企业项目框架/Spring/SpringAOP.html">
            
                <a href="../企业项目框架/Spring/SpringAOP.html">
            
                    
                    Spring AOP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../企业项目框架/Spring/Spring事务.html">
            
                <a href="../企业项目框架/Spring/Spring事务.html">
            
                    
                    Spring事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="../企业项目框架/Spring/TransactionSynchronizationManager.html">
            
                <a href="../企业项目框架/Spring/TransactionSynchronizationManager.html">
            
                    
                    Transaction Synchronization Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="../企业项目框架/Spring/大事务处理优化.html">
            
                <a href="../企业项目框架/Spring/大事务处理优化.html">
            
                    
                    大事务处理优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="../企业项目框架/Spring/很老的东西.html">
            
                <a href="../企业项目框架/Spring/很老的东西.html">
            
                    
                    很老的东西
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="../企业项目框架/Spring/循环依赖.html">
            
                <a href="../企业项目框架/Spring/循环依赖.html">
            
                    
                    循环依赖
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" >
            
                <span>
            
                    
                    Spring Boot
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../企业项目框架/SpringBoot/SpringApplication解析.html">
            
                <a href="../企业项目框架/SpringBoot/SpringApplication解析.html">
            
                    
                    SpringApplication解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../企业项目框架/SpringBoot/SpringBoot-Arthas.html">
            
                <a href="../企业项目框架/SpringBoot/SpringBoot-Arthas.html">
            
                    
                    Spring Boot Arthas
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" >
            
                <span>
            
                    
                    Spring Cloud
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../企业项目框架/SpringCloud/Eureka.html">
            
                <a href="../企业项目框架/SpringCloud/Eureka.html">
            
                    
                    Eureka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="../企业项目框架/SpringCloud/Feign.html">
            
                <a href="../企业项目框架/SpringCloud/Feign.html">
            
                    
                    Feign
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3" data-path="../企业项目框架/SpringCloud/Hystrix.html">
            
                <a href="../企业项目框架/SpringCloud/Hystrix.html">
            
                    
                    Hystrix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.4" data-path="../企业项目框架/SpringCloud/微服务SpringCloud.html">
            
                <a href="../企业项目框架/SpringCloud/微服务SpringCloud.html">
            
                    
                    微服务SpringCloud
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../企业项目框架/SpringFramework/">
            
                <a href="../企业项目框架/SpringFramework/">
            
                    
                    Spring Framework
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="../企业项目框架/SpringFramework/源码解析之ApplicationContext.html">
            
                <a href="../企业项目框架/SpringFramework/源码解析之ApplicationContext.html">
            
                    
                    源码解析之ApplicationContext
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    偏门但研究过的东西
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../偏门但研究过的东西/Apache%20CXF.md">
            
                <span>
            
                    
                    Apache CXF
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../偏门但研究过的东西/SpringSecurity.html">
            
                <a href="../偏门但研究过的东西/SpringSecurity.html">
            
                    
                    Spring Security
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    大数据组件
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" >
            
                <span>
            
                    
                    Groovy
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1.1" data-path="../大数据组件/Groovy/Groovy基础语法.html">
            
                <a href="../大数据组件/Groovy/Groovy基础语法.html">
            
                    
                    Groovy基础语法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.2" >
            
                <span>
            
                    
                    Hadoop
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="../大数据组件/hadoop/初识.html">
            
                <a href="../大数据组件/hadoop/初识.html">
            
                    
                    初识
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" >
            
                <span>
            
                    
                    Hive
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="../大数据组件/hive/hive基础语法DDL.html">
            
                <a href="../大数据组件/hive/hive基础语法DDL.html">
            
                    
                    hive基础语法DDL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="../大数据组件/hive/hive语法.html">
            
                <a href="../大数据组件/hive/hive语法.html">
            
                    
                    hive语法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.4" >
            
                <span>
            
                    
                    Member
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.4.1" data-path="../大数据组件/member/会员大数据相关.html">
            
                <a href="../大数据组件/member/会员大数据相关.html">
            
                    
                    会员大数据相关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.5" >
            
                <span>
            
                    
                    Presto
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.5.1" data-path="../大数据组件/Presto/PrestoSQL原理分析.html">
            
                <a href="../大数据组件/Presto/PrestoSQL原理分析.html">
            
                    
                    PrestoSQL原理分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../大数据组件/StarRocks-DorisDB/">
            
                <a href="../大数据组件/StarRocks-DorisDB/">
            
                    
                    Star Rocks Doris DB
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../大数据组件/StarRocks-DorisDB/DorisDB了解.html">
            
                <a href="../大数据组件/StarRocks-DorisDB/DorisDB了解.html">
            
                    
                    DorisDB了解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../大数据组件/StarRocks-DorisDB/DorisDB语法.html">
            
                <a href="../大数据组件/StarRocks-DorisDB/DorisDB语法.html">
            
                    
                    DorisDB语法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" >
            
                <span>
            
                    
                    调度
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.7.1" >
            
                <span>
            
                    
                    Az Kaban
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.7.1.1" data-path="../大数据组件/调度/AzKaban/多任务流并行.html">
            
                <a href="../大数据组件/调度/AzKaban/多任务流并行.html">
            
                    
                    多任务流并行
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../大数据组件/ClickHouse集群安装.html">
            
                <a href="../大数据组件/ClickHouse集群安装.html">
            
                    
                    ClickHouse集群安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../大数据组件/数据研发流程.html">
            
                <a href="../大数据组件/数据研发流程.html">
            
                    
                    数据研发流程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    工具类
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" >
            
                <span>
            
                    
                    加解密类
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="../工具类/加解密类/加解密操作.html">
            
                <a href="../工具类/加解密类/加解密操作.html">
            
                    
                    加解密操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../数据库/">
            
                <a href="../数据库/">
            
                    
                    数据库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" >
            
                <span>
            
                    
                    Mysql
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="../数据库/mysql/ACID与事务隔离级别.html">
            
                <a href="../数据库/mysql/ACID与事务隔离级别.html">
            
                    
                    ACID与事务隔离级别
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="../数据库/mysql/MVCC.html">
            
                <a href="../数据库/mysql/MVCC.html">
            
                    
                    MVCC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="../数据库/mysql/Mysql实战-基础篇.html">
            
                <a href="../数据库/mysql/Mysql实战-基础篇.html">
            
                    
                    Mysql实战-基础篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="../数据库/mysql/Mysql实战-实践篇.html">
            
                <a href="../数据库/mysql/Mysql实战-实践篇.html">
            
                    
                    Mysql实战-实践篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.5" data-path="../数据库/mysql/常用SQL聚合.html">
            
                <a href="../数据库/mysql/常用SQL聚合.html">
            
                    
                    常用SQL聚合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.6" data-path="../数据库/mysql/系统学习Mysql.html">
            
                <a href="../数据库/mysql/系统学习Mysql.html">
            
                    
                    系统学习Mysql
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" >
            
                <span>
            
                    
                    Sharding Sphere
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../数据库/ShardingSphere/ShardingSphere简介及使用.html">
            
                <a href="../数据库/ShardingSphere/ShardingSphere简介及使用.html">
            
                    
                    ShardingSphere简介及使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../数据结构/">
            
                <a href="../数据结构/">
            
                    
                    数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../数据结构/算法/">
            
                <a href="../数据结构/算法/">
            
                    
                    算法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="../数据结构/算法/限流算法.html">
            
                <a href="../数据结构/算法/限流算法.html">
            
                    
                    限流算法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../数据结构/线性表.html">
            
                <a href="../数据结构/线性表.html">
            
                    
                    线性表
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    编程基础
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../编程基础/与、或、异或.html">
            
                <a href="../编程基础/与、或、异或.html">
            
                    
                    与、或、异或
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="./">
            
                <a href="./">
            
                    
                    解决方案
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" >
            
                <span>
            
                    
                    异常问题排查
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="异常问题排查/Transaction-rollback-only.html">
            
                <a href="异常问题排查/Transaction-rollback-only.html">
            
                    
                    Transaction Rollback Only
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="7千万+用户数据分库分表.html">
            
                <a href="7千万+用户数据分库分表.html">
            
                    
                    7千万+用户数据分库分表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="AppleId第三方授权登录流程调研.html">
            
                <a href="AppleId第三方授权登录流程调研.html">
            
                    
                    AppleId第三方授权登录流程调研
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="Idea远程调试监控端口.html">
            
                <a href="Idea远程调试监控端口.html">
            
                    
                    Idea远程调试监控端口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="Java获取真实ip地址.html">
            
                <a href="Java获取真实ip地址.html">
            
                    
                    Java获取真实ip地址
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="Jenkins脚本实例.html">
            
                <a href="Jenkins脚本实例.html">
            
                    
                    Jenkins脚本实例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="MybatisPlus多数据源.html">
            
                <a href="MybatisPlus多数据源.html">
            
                    
                    MybatisPlus多数据源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="Mysql分库分表.html">
            
                <a href="Mysql分库分表.html">
            
                    
                    Mysql分库分表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="nacos使用文档说明简介.html">
            
                <a href="nacos使用文档说明简介.html">
            
                    
                    nacos使用文档说明简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.10" data-path="OAuth2.0授权登录调研.html">
            
                <a href="OAuth2.0授权登录调研.html">
            
                    
                    OAuth2.0授权登录调研
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.11" data-path="TiDB性能测试.html">
            
                <a href="TiDB性能测试.html">
            
                    
                    TiDB性能测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.12" data-path="延迟队列解决方案.html">
            
                <a href="延迟队列解决方案.html">
            
                    
                    延迟队列解决方案
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../计算机网络原理/">
            
                <a href="../计算机网络原理/">
            
                    
                    计算机网络原理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../计算机网络原理/计算机网络概述.html">
            
                <a href="../计算机网络原理/计算机网络概述.html">
            
                    
                    计算机网络概述
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >TiDB性能测试</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#tidb-&#x6027;&#x80FD;&#x6D4B;&#x8BD5;"><b>1.1. </b>TIDB &#x6027;&#x80FD;&#x6D4B;&#x8BD5;</a></li><ul><li><span class="title-icon "></span><a href="#tidb&#x6574;&#x4F53;&#x67B6;&#x6784;"><b>1.1.1. </b>TIDB&#x6574;&#x4F53;&#x67B6;&#x6784;</a></li><li><span class="title-icon "></span><a href="#&#x4F7F;&#x7528;tiup&#x96C6;&#x7FA4;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;"><b>1.1.2. </b>&#x4F7F;&#x7528;TiUP&#x96C6;&#x7FA4;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;</a></li><li><span class="title-icon "></span><a href="#&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;"><b>1.1.3. </b>&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;</a></li><li><span class="title-icon "></span><a href="#tidb&#x96C6;&#x7FA4;&#x7BA1;&#x7406;"><b>1.1.4. </b>TIDB&#x96C6;&#x7FA4;&#x7BA1;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x6570;&#x636E;&#x8FC1;&#x79FB;"><b>1.1.5. </b>&#x6570;&#x636E;&#x8FC1;&#x79FB;</a></li><li><span class="title-icon "></span><a href="#sysbench&#x6D4B;&#x8BD5;tidb"><b>1.1.6. </b>Sysbench&#x6D4B;&#x8BD5;TIDB</a></li></ul></ul></ul></div><a href="#" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h2 id="tidb-&#x6027;&#x80FD;&#x6D4B;&#x8BD5;"><a name="tidb-&#x6027;&#x80FD;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#tidb-&#x6027;&#x80FD;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. TIDB &#x6027;&#x80FD;&#x6D4B;&#x8BD5;</h2>
<p>&#x611F;&#x8C22;&#x5927;&#x4F6C;</p>
<h3 id="tidb&#x6574;&#x4F53;&#x67B6;&#x6784;"><a name="tidb&#x6574;&#x4F53;&#x67B6;&#x6784;" class="anchor-navigation-ex-anchor" href="#tidb&#x6574;&#x4F53;&#x67B6;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. TIDB&#x6574;&#x4F53;&#x67B6;&#x6784;</h3>
<p>&#x4E0E;&#x4F20;&#x7EDF;&#x7684;&#x5355;&#x673A;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x6BD4;&#xFF0C;TiDB &#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x4F18;&#x52BF;&#xFF1A;</p>
<ul>
<li>&#x7EAF;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#xFF0C;&#x62E5;&#x6709;&#x826F;&#x597D;&#x7684;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x652F;&#x6301;&#x5F39;&#x6027;&#x7684;&#x6269;&#x7F29;&#x5BB9;</li>
<li>&#x652F;&#x6301; SQL&#xFF0C;&#x5BF9;&#x5916;&#x66B4;&#x9732; MySQL &#x7684;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#xFF0C;&#x5E76;&#x517C;&#x5BB9;&#x5927;&#x591A;&#x6570; MySQL &#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x5728;&#x5927;&#x591A;&#x6570;&#x573A;&#x666F;&#x4E0B;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x66FF;&#x6362; MySQL</li>
<li>&#x9ED8;&#x8BA4;&#x652F;&#x6301;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x5728;&#x5C11;&#x6570;&#x526F;&#x672C;&#x5931;&#x6548;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x672C;&#x8EAB;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4FEE;&#x590D;&#x548C;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#xFF0C;&#x5BF9;&#x4E1A;&#x52A1;&#x900F;&#x660E;</li>
<li>&#x652F;&#x6301; ACID &#x4E8B;&#x52A1;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x6709;&#x5F3A;&#x4E00;&#x81F4;&#x9700;&#x6C42;&#x7684;&#x573A;&#x666F;&#x53CB;&#x597D;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x94F6;&#x884C;&#x8F6C;&#x8D26;</li>
<li>&#x5177;&#x6709;&#x4E30;&#x5BCC;&#x7684;&#x5DE5;&#x5177;&#x94FE;&#x751F;&#x6001;&#xFF0C;&#x8986;&#x76D6;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x3001;&#x540C;&#x6B65;&#x3001;&#x5907;&#x4EFD;&#x7B49;&#x591A;&#x79CD;&#x573A;&#x666F;</li>
</ul>
<p>&#x5728;&#x5185;&#x6838;&#x8BBE;&#x8BA1;&#x4E0A;&#xFF0C;TiDB &#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x5C06;&#x6574;&#x4F53;&#x67B6;&#x6784;&#x62C6;&#x5206;&#x6210;&#x4E86;&#x591A;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x5404;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x4E92;&#x76F8;&#x901A;&#x4FE1;&#xFF0C;&#x7EC4;&#x6210;&#x5B8C;&#x6574;&#x7684; TiDB &#x7CFB;&#x7EDF;&#x3002;&#x5BF9;&#x5E94;&#x7684;&#x67B6;&#x6784;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="../static/image-tidb/TIDB&#x67B6;&#x6784;&#x8BBE;&#x8BA1;.jpg" alt=""></p>
<ul>
<li>TiDB Server&#xFF1A;SQL &#x5C42;&#xFF0C;&#x5BF9;&#x5916;&#x66B4;&#x9732; MySQL &#x534F;&#x8BAE;&#x7684;&#x8FDE;&#x63A5; endpoint&#xFF0C;&#x8D1F;&#x8D23;&#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x6267;&#x884C; SQL &#x89E3;&#x6790;&#x548C;&#x4F18;&#x5316;&#xFF0C;&#x6700;&#x7EC8;&#x751F;&#x6210;&#x5206;&#x5E03;&#x5F0F;&#x6267;&#x884C;&#x8BA1;&#x5212;&#x3002;TiDB &#x5C42;&#x672C;&#x8EAB;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;&#xFF0C;&#x5B9E;&#x8DF5;&#x4E2D;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x591A;&#x4E2A; TiDB &#x5B9E;&#x4F8B;&#xFF0C;&#x901A;&#x8FC7;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7EC4;&#x4EF6;&#xFF08;&#x5982; LVS&#x3001;HAProxy &#x6216; F5&#xFF09;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x7EDF;&#x4E00;&#x7684;&#x63A5;&#x5165;&#x5730;&#x5740;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x5747;&#x5300;&#x5730;&#x5206;&#x644A;&#x5728;&#x591A;&#x4E2A; TiDB &#x5B9E;&#x4F8B;&#x4E0A;&#x4EE5;&#x8FBE;&#x5230;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x6548;&#x679C;&#x3002;TiDB Server &#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x53EA;&#x662F;&#x89E3;&#x6790; SQL&#xFF0C;&#x5C06;&#x5B9E;&#x9645;&#x7684;&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x7ED9;&#x5E95;&#x5C42;&#x7684;&#x5B58;&#x50A8;&#x8282;&#x70B9; TiKV&#xFF08;&#x6216; TiFlash&#xFF09;&#x3002;</li>
<li>PD Server&#xFF1A;&#x6574;&#x4E2A; TiDB &#x96C6;&#x7FA4;&#x7684;&#x5143;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#xFF0C;&#x8D1F;&#x8D23;&#x5B58;&#x50A8;&#x6BCF;&#x4E2A; TiKV &#x8282;&#x70B9;&#x5B9E;&#x65F6;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#x548C;&#x96C6;&#x7FA4;&#x7684;&#x6574;&#x4F53;&#x62D3;&#x6251;&#x7ED3;&#x6784;&#xFF0C;&#x63D0;&#x4F9B; TiDB Dashboard &#x7BA1;&#x63A7;&#x754C;&#x9762;&#xFF0C;&#x5E76;&#x4E3A;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5206;&#x914D;&#x4E8B;&#x52A1; ID&#x3002;PD &#x4E0D;&#x4EC5;&#x5B58;&#x50A8;&#x5143;&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x4F1A;&#x6839;&#x636E; TiKV &#x8282;&#x70B9;&#x5B9E;&#x65F6;&#x4E0A;&#x62A5;&#x7684;&#x6570;&#x636E;&#x5206;&#x5E03;&#x72B6;&#x6001;&#xFF0C;&#x4E0B;&#x53D1;&#x6570;&#x636E;&#x8C03;&#x5EA6;&#x547D;&#x4EE4;&#x7ED9;&#x5177;&#x4F53;&#x7684; TiKV &#x8282;&#x70B9;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;&#x201C;&#x5927;&#x8111;&#x201D;&#x3002;&#x6B64;&#x5916;&#xFF0C;PD &#x672C;&#x8EAB;&#x4E5F;&#x662F;&#x7531;&#x81F3;&#x5C11; 3 &#x4E2A;&#x8282;&#x70B9;&#x6784;&#x6210;&#xFF0C;&#x62E5;&#x6709;&#x9AD8;&#x53EF;&#x7528;&#x7684;&#x80FD;&#x529B;&#x3002;&#x5EFA;&#x8BAE;&#x90E8;&#x7F72;&#x5947;&#x6570;&#x4E2A; PD &#x8282;&#x70B9;&#x3002;</li>
<li>&#x5B58;&#x50A8;&#x8282;&#x70B9;<ul>
<li>TiKV Server&#xFF1A;&#x8D1F;&#x8D23;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x4ECE;&#x5916;&#x90E8;&#x770B; TiKV &#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x63D0;&#x4F9B;&#x4E8B;&#x52A1;&#x7684; Key-Value &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x3002;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x662F; Region&#xFF0C;&#x6BCF;&#x4E2A; Region &#x8D1F;&#x8D23;&#x5B58;&#x50A8;&#x4E00;&#x4E2A; Key Range&#xFF08;&#x4ECE; StartKey &#x5230; EndKey &#x7684;&#x5DE6;&#x95ED;&#x53F3;&#x5F00;&#x533A;&#x95F4;&#xFF09;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6BCF;&#x4E2A; TiKV &#x8282;&#x70B9;&#x4F1A;&#x8D1F;&#x8D23;&#x591A;&#x4E2A; Region&#x3002;TiKV &#x7684; API &#x5728; KV &#x952E;&#x503C;&#x5BF9;&#x5C42;&#x9762;&#x63D0;&#x4F9B;&#x5BF9;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x539F;&#x751F;&#x652F;&#x6301;&#xFF0C;&#x9ED8;&#x8BA4;&#x63D0;&#x4F9B;&#x4E86; SI (Snapshot Isolation) &#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F; TiDB &#x5728; SQL &#x5C42;&#x9762;&#x652F;&#x6301;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x6838;&#x5FC3;&#x3002;TiDB &#x7684; SQL &#x5C42;&#x505A;&#x5B8C; SQL &#x89E3;&#x6790;&#x540E;&#xFF0C;&#x4F1A;&#x5C06; SQL &#x7684;&#x6267;&#x884C;&#x8BA1;&#x5212;&#x8F6C;&#x6362;&#x4E3A;&#x5BF9; TiKV API &#x7684;&#x5B9E;&#x9645;&#x8C03;&#x7528;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x50A8;&#x5728; TiKV &#x4E2D;&#x3002;&#x53E6;&#x5916;&#xFF0C;TiKV &#x4E2D;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x7EF4;&#x62A4;&#x591A;&#x526F;&#x672C;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;&#x4E09;&#x526F;&#x672C;&#xFF09;&#xFF0C;&#x5929;&#x7136;&#x652F;&#x6301;&#x9AD8;&#x53EF;&#x7528;&#x548C;&#x81EA;&#x52A8;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x3002;</li>
<li>TiFlash&#xFF1A;TiFlash &#x662F;&#x4E00;&#x7C7B;&#x7279;&#x6B8A;&#x7684;&#x5B58;&#x50A8;&#x8282;&#x70B9;&#x3002;&#x548C;&#x666E;&#x901A; TiKV &#x8282;&#x70B9;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x662F;&#xFF0C;&#x5728; TiFlash &#x5185;&#x90E8;&#xFF0C;&#x6570;&#x636E;&#x662F;&#x4EE5;&#x5217;&#x5F0F;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x529F;&#x80FD;&#x662F;&#x4E3A;&#x5206;&#x6790;&#x578B;&#x7684;&#x573A;&#x666F;&#x52A0;&#x901F;&#x3002;</li>
</ul>
</li>
</ul>
<h3 id="&#x4F7F;&#x7528;tiup&#x96C6;&#x7FA4;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;"><a name="&#x4F7F;&#x7528;tiup&#x96C6;&#x7FA4;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;tiup&#x96C6;&#x7FA4;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.2. &#x4F7F;&#x7528;TiUP&#x96C6;&#x7FA4;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;</h3>
<ul>
<li>&#x573A;&#x666F;&#xFF1A;&#x4F53;&#x9A8C;&#x5177;&#x6709;&#x5B8C;&#x6574;&#x62D3;&#x6251;&#x7684;&#x6700;&#x5C0F;TiDB&#x96C6;&#x7FA4;&#xFF0C;&#x5E76;&#x5728;&#x5355;&#x4E2A;Linux&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6A21;&#x62DF;&#x751F;&#x4EA7;&#x90E8;&#x7F72;&#x6B65;&#x9AA4;</li>
</ul>
<h4 id="&#x51C6;&#x5907;"><a name="&#x51C6;&#x5907;" class="anchor-navigation-ex-anchor" href="#&#x51C6;&#x5907;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x51C6;&#x5907;</h4>
<p>&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x6700;&#x5C0F;TIDB&#x96C6;&#x7FA4;&#x62D3;&#x6251;</p>
<table>
<thead>
<tr>
<th>&#x5B9E;&#x4F8B;</th>
<th>&#x526F;&#x672C;&#x6570;</th>
<th>IP&#x5730;&#x5740;</th>
<th>&#x7AEF;&#x53E3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIKV</td>
<td>3</td>
<td>10.101.16.245</td>
<td>20160/20180,20161/20181,20162/20182</td>
</tr>
<tr>
<td>TIDB</td>
<td>1</td>
<td>10.101.16.245</td>
<td>4000/10080</td>
</tr>
<tr>
<td>PD</td>
<td>1</td>
<td>10.101.16.245</td>
<td>2379/2380</td>
</tr>
<tr>
<td>TiFlash</td>
<td>1</td>
<td>10.101.16.245</td>
<td>9000/8123/3930/20170/20292/8234</td>
</tr>
<tr>
<td>Monitor</td>
<td>prometheus<br>grafana</td>
<td>10.101.16.245</td>
<td>9090,3000</td>
</tr>
</tbody>
</table>
<h4 id="&#x90E8;&#x7F72;"><a name="&#x90E8;&#x7F72;" class="anchor-navigation-ex-anchor" href="#&#x90E8;&#x7F72;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x90E8;&#x7F72;</h4>
<ul>
<li>&#x4E0B;&#x8F7D;&#x5E76;&#x5B89;&#x88C5;TiUP</li>
</ul>
<pre class="language-"><code class="lang-bash"><span class="token function">curl</span> <span class="token parameter variable">--proto</span> <span class="token string">&apos;=https&apos;</span> <span class="token parameter variable">--tlsv1.2</span> <span class="token parameter variable">-sSf</span> https://tiup-mirrors.pingcap.com/install.sh <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre>
<ul>
<li>&#x5B89;&#x88C5;TiUP&#x96C6;&#x7FA4;&#x7EC4;&#x4EF6;</li>
</ul>
<pre class="language-"><code class="lang-bash">tiup cluster
<span class="token comment"># &#x66F4;&#x65B0;</span>
tiup update <span class="token parameter variable">--self</span> <span class="token operator">&amp;&amp;</span> tiup update cluster
</code></pre>
<ul>
<li><p>&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x96C6;&#x7FA4;</p>
<p>&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre class="language-"><code class="lang-bash"><span class="token function">cat</span> <span class="token operator">&gt;</span> topo.yaml <span class="token operator">&lt;&lt;-</span> <span class="token string">&apos;EOF&apos; 
# # Global variables are applied to all deployments and used as the default value of
# # the deployments if a specific deployment value is missing.
global:
 user: &quot;tidb&quot;
 ssh_port: 22
 deploy_dir: &quot;/tidb-deploy&quot;
 data_dir: &quot;/tidb-data&quot;

# # Monitored variables are applied to all the machines.
monitored:
 node_exporter_port: 9100
 blackbox_exporter_port: 9115

server_configs:
 tidb:
   log.slow-threshold: 300
 tikv:
   readpool.storage.use-unified-pool: false
   readpool.coprocessor.use-unified-pool: true
 pd:
   replication.enable-placement-rules: true
   replication.location-labels: [&quot;host&quot;]
 tiflash:
   logger.level: &quot;info&quot;

pd_servers:
 - host: 10.101.16.245

tidb_servers:
 - host: 10.101.16.245

tikv_servers:
 - host: 10.101.16.245
   port: 20160
   status_port: 20180
   config:
     server.labels: { host: &quot;logic-host-1&quot; }

 - host: 10.101.16.245
   port: 20161
   status_port: 20181
   config:
     server.labels: { host: &quot;logic-host-2&quot; }

 - host: 10.101.16.245
   port: 20162
   status_port: 20182
   config:
     server.labels: { host: &quot;logic-host-3&quot; }

tiflash_servers:
 - host: 10.101.16.245

monitoring_servers:
 - host: 10.101.16.245

grafana_servers:
 - host: 10.101.16.245
EOF</span>
</code></pre>
</li>
<li><p>&#x6267;&#x884C;&#x96C6;&#x7FA4;&#x90E8;&#x7F72;&#x547D;&#x4EE4;</p>
</li>
</ul>
<pre class="language-"><code class="lang-bash">tiup cluster deploy tidb-ddyw  v4.0.8 ./topo.yaml <span class="token parameter variable">--user</span> root
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster deploy tidb-ddyw v4.0.8 ./topo.yaml <span class="token parameter variable">--user</span> root
Please confirm your topology:
Cluster type:    tidb
Cluster name:    tidb-ddyw
Cluster version: v4.0.8
Type        Host           Ports                            OS/Arch       Directories
----        ----           -----                            -------       -----------
pd          <span class="token number">10.101</span>.16.245  <span class="token number">2379</span>/2380                        linux/x86_64  /tidb-deploy/pd-2379,/tidb-data/pd-2379
tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20160</span>/20180                      linux/x86_64  /tidb-deploy/tikv-20160,/tidb-data/tikv-20160
tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20161</span>/20181                      linux/x86_64  /tidb-deploy/tikv-20161,/tidb-data/tikv-20161
tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20162</span>/20182                      linux/x86_64  /tidb-deploy/tikv-20162,/tidb-data/tikv-20162
tidb        <span class="token number">10.101</span>.16.245  <span class="token number">4000</span>/10080                       linux/x86_64  /tidb-deploy/tidb-4000
tiflash     <span class="token number">10.101</span>.16.245  <span class="token number">9000</span>/8123/3930/20170/20292/8234  linux/x86_64  /tidb-deploy/tiflash-9000,/tidb-data/tiflash-9000
prometheus  <span class="token number">10.101</span>.16.245  <span class="token number">9090</span>                             linux/x86_64  /tidb-deploy/prometheus-9090,/tidb-data/prometheus-9090
grafana     <span class="token number">10.101</span>.16.245  <span class="token number">3000</span>                             linux/x86_64  /tidb-deploy/grafana-3000
Attention:
    <span class="token number">1</span>. If the topology is not what you expected, check your yaml file.
    <span class="token number">2</span>. Please confirm there is no port/directory conflicts <span class="token keyword">in</span> same host.
Do you want to continue? <span class="token punctuation">[</span>y/N<span class="token punctuation">]</span>:  y
+ Generate SSH keys <span class="token punctuation">..</span>. Done
+ Download TiDB components
  - Download pd:v4.0.8 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download tikv:v4.0.8 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download tidb:v4.0.8 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download tiflash:v4.0.8 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download prometheus:v4.0.8 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download grafana:v4.0.8 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download node_exporter:v0.17.0 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
  - Download blackbox_exporter:v0.12.0 <span class="token punctuation">(</span>linux/amd64<span class="token punctuation">)</span> <span class="token punctuation">..</span>. Done
+ Initialize target <span class="token function">host</span> environments
  - Prepare <span class="token number">10.101</span>.16.245:22 <span class="token punctuation">..</span>. Done
+ Copy files
  - Copy pd -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy tidb -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy tiflash -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy prometheus -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy grafana -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy node_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Copy blackbox_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
+ Check status

Enabling component pd
+ Enable cluster
        Enable pd <span class="token number">10.101</span>.16.245:2379 success
+ Enable cluster
+ Enable cluster
Enabling component tikv
    Enabling instance tikv <span class="token number">10.101</span>.16.245:20162
    Enabling instance tikv <span class="token number">10.101</span>.16.245:20160
+ Enable cluster
+ Enable cluster
+ Enable cluster
        Enable tikv <span class="token number">10.101</span>.16.245:20162 success
Enabling component tidb
+ Enable cluster
        Enable tidb <span class="token number">10.101</span>.16.245:4000 success
Enabling component tiflash
+ Enable cluster
        Enable tiflash <span class="token number">10.101</span>.16.245:9000 success
Enabling component prometheus
+ Enable cluster
        Enable prometheus <span class="token number">10.101</span>.16.245:9090 success
Enabling component grafana
+ Enable cluster
+ Enable cluster
Deployed cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully, you can start the cluster via <span class="token variable"><span class="token variable">`</span>tiup cluster start tidb-ddyw<span class="token variable">`</span></span>
</code></pre>
<ul>
<li>&#x542F;&#x52A8;&#x96C6;&#x7FA4;</li>
</ul>
<pre class="language-"><code class="lang-bash">tiup cluster start tidb-ddyw
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster start tidb-ddyw
Starting cluster tidb-ddyw<span class="token punctuation">..</span>.
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - SSHKeySet: <span class="token assign-left variable">privateKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa, <span class="token assign-left variable">publicKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - StartCluster
Starting component pd
    Starting instance pd <span class="token number">10.101</span>.16.245:2379
    Start pd <span class="token number">10.101</span>.16.245:2379 success
Starting component node_exporter
    Starting instance <span class="token number">10.101</span>.16.245
    Start <span class="token number">10.101</span>.16.245 success
Starting component blackbox_exporter
    Starting instance <span class="token number">10.101</span>.16.245
    Start <span class="token number">10.101</span>.16.245 success
Starting component tikv
    Starting instance tikv <span class="token number">10.101</span>.16.245:20162
    Starting instance tikv <span class="token number">10.101</span>.16.245:20160
    Starting instance tikv <span class="token number">10.101</span>.16.245:20161
    Start tikv <span class="token number">10.101</span>.16.245:20160 success
    Start tikv <span class="token number">10.101</span>.16.245:20161 success
    Start tikv <span class="token number">10.101</span>.16.245:20162 success
Starting component tidb
    Starting instance tidb <span class="token number">10.101</span>.16.245:4000
    Start tidb <span class="token number">10.101</span>.16.245:4000 success
Starting component tiflash
    Starting instance tiflash <span class="token number">10.101</span>.16.245:9000
    Start tiflash <span class="token number">10.101</span>.16.245:9000 success
Starting component prometheus
    Starting instance prometheus <span class="token number">10.101</span>.16.245:9090
    Start prometheus <span class="token number">10.101</span>.16.245:9090 success
Starting component grafana
    Starting instance grafana <span class="token number">10.101</span>.16.245:3000
    Start grafana <span class="token number">10.101</span>.16.245:3000 success
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - UpdateTopology: <span class="token assign-left variable">cluster</span><span class="token operator">=</span>tidb-ddyw
Started cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully
</code></pre>
<ul>
<li>&#x8BBF;&#x95EE;&#x96C6;&#x7FA4;</li>
</ul>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x5B89;&#x88C5;mysql client&#x5BA2;&#x6237;&#x7AEF;</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> mysql
<span class="token comment"># &#x8BBF;&#x95EE;TIDB,&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x5BC6;&#x7801;</span>
mysql <span class="token parameter variable">-h</span> <span class="token number">10.101</span>.16.245 <span class="token parameter variable">-P</span> <span class="token number">4000</span> <span class="token parameter variable">-u</span> root
MySQL <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
+--------------------+
<span class="token operator">|</span> Database           <span class="token operator">|</span>
+--------------------+
<span class="token operator">|</span> INFORMATION_SCHEMA <span class="token operator">|</span>
<span class="token operator">|</span> METRICS_SCHEMA     <span class="token operator">|</span>
<span class="token operator">|</span> PERFORMANCE_SCHEMA <span class="token operator">|</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token builtin class-name">test</span>               <span class="token operator">|</span>
+--------------------+
<span class="token number">5</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># &#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x5217;&#x8868;</span>
tiup cluster list
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster list
Name       User  Version  Path                                            PrivateKey
----       ----  -------  ----                                            ----------
tidb-ddyw  tidb  v4.0.8   /root/.tiup/storage/cluster/clusters/tidb-ddyw  /root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa
<span class="token comment"># &#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x62D3;&#x6251;</span>
tiup cluster display tidb-ddyw
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster display tidb-ddyw
Cluster type:    tidb
Cluster name:    tidb-ddyw
Cluster version: v4.0.8
SSH type:        <span class="token builtin class-name">builtin</span>
ID                   Role        Host           Ports                            OS/Arch       Status   Data Dir                    Deploy Dir
--                   ----        ----           -----                            -------       ------   --------                    ----------
<span class="token number">10.101</span>.16.245:3000   grafana     <span class="token number">10.101</span>.16.245  <span class="token number">3000</span>                             linux/x86_64  Up       -                           /tidb-deploy/grafana-3000
<span class="token number">10.101</span>.16.245:2379   pd          <span class="token number">10.101</span>.16.245  <span class="token number">2379</span>/2380                        linux/x86_64  Up<span class="token operator">|</span>L<span class="token operator">|</span>UI  /tidb-data/pd-2379          /tidb-deploy/pd-2379
<span class="token number">10.101</span>.16.245:9090   prometheus  <span class="token number">10.101</span>.16.245  <span class="token number">9090</span>                             linux/x86_64  Up       /tidb-data/prometheus-9090  /tidb-deploy/prometheus-9090
<span class="token number">10.101</span>.16.245:4000   tidb        <span class="token number">10.101</span>.16.245  <span class="token number">4000</span>/10080                       linux/x86_64  Up       -                           /tidb-deploy/tidb-4000
<span class="token number">10.101</span>.16.245:9000   tiflash     <span class="token number">10.101</span>.16.245  <span class="token number">9000</span>/8123/3930/20170/20292/8234  linux/x86_64  Up       /tidb-data/tiflash-9000     /tidb-deploy/tiflash-9000
<span class="token number">10.101</span>.16.245:20160  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20160</span>/20180                      linux/x86_64  Up       /tidb-data/tikv-20160       /tidb-deploy/tikv-20160
<span class="token number">10.101</span>.16.245:20161  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20161</span>/20181                      linux/x86_64  Up       /tidb-data/tikv-20161       /tidb-deploy/tikv-20161
<span class="token number">10.101</span>.16.245:20162  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20162</span>/20182                      linux/x86_64  Up       /tidb-data/tikv-20162       /tidb-deploy/tikv-20162
Total nodes: <span class="token number">8</span>
<span class="token comment"># TIDB&#x8BBF;&#x95EE;</span>
To connect TiDB: mysql <span class="token parameter variable">--host</span> <span class="token number">10.101</span>.16.245 <span class="token parameter variable">--port</span> <span class="token number">4000</span> <span class="token parameter variable">-u</span> root
To view the dashboard: http://10.101.16.245:2379/dashboard
To view the monitor: http://10.101.16.245:9090
</code></pre>
<h3 id="&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;"><a name="&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.3. &#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;</h3>
<h4 id="&#x51C6;&#x5907;_1"><a name="&#x51C6;&#x5907;_1" class="anchor-navigation-ex-anchor" href="#&#x51C6;&#x5907;_1"><i class="fa fa-link" aria-hidden="true"></i></a>&#x51C6;&#x5907;</h4>
<p>&#x672C;&#x6B21;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;TIDB&#x96C6;&#x7FA4;&#x62D3;&#x6251;</p>
<table>
<thead>
<tr>
<th>&#x5B9E;&#x4F8B;</th>
<th>&#x914D;&#x7F6E;</th>
<th>&#x526F;&#x672C;&#x6570;</th>
<th>IP&#x5730;&#x5740;</th>
<th>&#x7AEF;&#x53E3;</th>
</tr>
</thead>
<tbody>
<tr>
<td>TiDB</td>
<td>8&#x6838;32G500G</td>
<td>1</td>
<td>10.101.16.246</td>
<td>4000/10080</td>
</tr>
<tr>
<td>PD</td>
<td>8&#x6838;32G500G</td>
<td>1</td>
<td>10.101.16.247</td>
<td>2379/2380</td>
</tr>
<tr>
<td>TIKV</td>
<td>8&#x6838;32G500G</td>
<td>3</td>
<td>10.101.16.246<br>10.101.16.247<br>10.101.16.248</td>
<td>20160/20180,20161/20181,20162/20182</td>
</tr>
<tr>
<td>TiFlash</td>
<td>8&#x6838;32G500G</td>
<td>1</td>
<td>10.101.16.248</td>
<td>9000/8123/3930/20170/20292/8234</td>
</tr>
<tr>
<td>Monitor</td>
<td>8&#x6838;32G500G</td>
<td>prometheus<br>grafana</td>
<td>10.101.16.246</td>
<td>9090,3000</td>
</tr>
</tbody>
</table>
<h4 id="&#x90E8;&#x7F72;_1"><a name="&#x90E8;&#x7F72;_1" class="anchor-navigation-ex-anchor" href="#&#x90E8;&#x7F72;_1"><i class="fa fa-link" aria-hidden="true"></i></a>&#x90E8;&#x7F72;</h4>
<blockquote>
<p> &#x78C1;&#x76D8;&#x683C;&#x5F0F;&#x5316;(&#x4E09;&#x53F0;&#x673A;&#x5668;&#x6267;&#x884C;)</p>
</blockquote>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x6570;&#x636E;&#x76D8;&#x5206;&#x533A;</span>
<span class="token function">fdisk</span> /dev/vdb
&#x6B22;&#x8FCE;&#x4F7F;&#x7528; <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.23</span>.2<span class="token punctuation">)</span>&#x3002;

&#x66F4;&#x6539;&#x5C06;&#x505C;&#x7559;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x76F4;&#x5230;&#x60A8;&#x51B3;&#x5B9A;&#x5C06;&#x66F4;&#x6539;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x3002;
&#x4F7F;&#x7528;&#x5199;&#x5165;&#x547D;&#x4EE4;&#x524D;&#x8BF7;&#x4E09;&#x601D;&#x3002;

Device does not contain a recognized partition table
&#x4F7F;&#x7528;&#x78C1;&#x76D8;&#x6807;&#x8BC6;&#x7B26; 0xa1b68466 &#x521B;&#x5EFA;&#x65B0;&#x7684; DOS &#x78C1;&#x76D8;&#x6807;&#x7B7E;&#x3002;

&#x547D;&#x4EE4;<span class="token punctuation">(</span>&#x8F93;&#x5165; m &#x83B7;&#x53D6;&#x5E2E;&#x52A9;<span class="token punctuation">)</span>&#xFF1A;n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
&#x5206;&#x533A;&#x53F7; <span class="token punctuation">(</span><span class="token number">1</span>-4&#xFF0C;&#x9ED8;&#x8BA4; <span class="token number">1</span><span class="token punctuation">)</span>&#xFF1A;1
&#x8D77;&#x59CB; &#x6247;&#x533A; <span class="token punctuation">(</span><span class="token number">2048</span>-943718399&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; <span class="token number">2048</span><span class="token punctuation">)</span>&#xFF1A;
&#x5C06;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C; <span class="token number">2048</span>
Last &#x6247;&#x533A;, +&#x6247;&#x533A; or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-943718399&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; <span class="token number">943718399</span><span class="token punctuation">)</span>&#xFF1A;
&#x5C06;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C; <span class="token number">943718399</span>
&#x5206;&#x533A; <span class="token number">1</span> &#x5DF2;&#x8BBE;&#x7F6E;&#x4E3A; Linux &#x7C7B;&#x578B;&#xFF0C;&#x5927;&#x5C0F;&#x8BBE;&#x4E3A; <span class="token number">450</span> GiB

&#x547D;&#x4EE4;<span class="token punctuation">(</span>&#x8F93;&#x5165; m &#x83B7;&#x53D6;&#x5E2E;&#x52A9;<span class="token punctuation">)</span>&#xFF1A;p

&#x78C1;&#x76D8; /dev/vdb&#xFF1A;483.2 GB, <span class="token number">483183820800</span> &#x5B57;&#x8282;&#xFF0C;943718400 &#x4E2A;&#x6247;&#x533A;
Units <span class="token operator">=</span> &#x6247;&#x533A; of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
&#x6247;&#x533A;&#x5927;&#x5C0F;<span class="token punctuation">(</span>&#x903B;&#x8F91;/&#x7269;&#x7406;<span class="token punctuation">)</span>&#xFF1A;512 &#x5B57;&#x8282; / <span class="token number">512</span> &#x5B57;&#x8282;
I/O &#x5927;&#x5C0F;<span class="token punctuation">(</span>&#x6700;&#x5C0F;/&#x6700;&#x4F73;<span class="token punctuation">)</span>&#xFF1A;512 &#x5B57;&#x8282; / <span class="token number">512</span> &#x5B57;&#x8282;
&#x78C1;&#x76D8;&#x6807;&#x7B7E;&#x7C7B;&#x578B;&#xFF1A;dos
&#x78C1;&#x76D8;&#x6807;&#x8BC6;&#x7B26;&#xFF1A;0xa1b68466

   &#x8BBE;&#x5907; Boot      Start         End      Blocks   Id  System
/dev/vdb1            <span class="token number">2048</span>   <span class="token number">943718399</span>   <span class="token number">471858176</span>   <span class="token number">83</span>  Linux

&#x547D;&#x4EE4;<span class="token punctuation">(</span>&#x8F93;&#x5165; m &#x83B7;&#x53D6;&#x5E2E;&#x52A9;<span class="token punctuation">)</span>&#xFF1A;w
The partition table has been altered<span class="token operator">!</span>

Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re-read partition table.
&#x6B63;&#x5728;&#x540C;&#x6B65;&#x78C1;&#x76D8;&#x3002;
<span class="token comment"># &#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</span>
<span class="token function">mkfs</span> <span class="token parameter variable">-t</span> xfs /dev/vdb1
<span class="token comment"># &#x6302;&#x8F7D;&#x4F7F;&#x7528;</span>
<span class="token function">mkdir</span> /tidbdata
<span class="token function">mount</span> /dev/vdb1 /tidbdata
<span class="token comment"># &#x6302;&#x8F7D;&#x5F00;&#x673A;&#x542F;&#x52A8;</span>
blkid
/dev/vda1: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;9f2d3e15-a78a-4f3d-8385-0165b4b67864&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;ext4&quot;</span> 
/dev/vdb1: <span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;b2c45077-0f11-42ff-90d1-864a6d9c7490&quot;</span> <span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;xfs&quot;</span> 
<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /etc/fstab <span class="token operator">&lt;&lt;-</span> <span class="token string">&apos;EOF&apos;</span>
<span class="token operator">&gt;</span> <span class="token assign-left variable">UUID</span><span class="token operator">=</span>b2c45077-0f11-42ff-90d1-864a6d9c7490 /tidbdata xfs default <span class="token number">0</span> <span class="token number">0</span>
<span class="token operator">&gt;</span> EOF
</code></pre>
<blockquote>
<p>10.101.16.246 &#x4E0A;&#x5B89;&#x88C5;tiup&#x5E76;&#x521D;&#x59CB;&#x5316;tidb&#x96C6;&#x7FA4;</p>
</blockquote>
<ul>
<li>&#x4E0B;&#x8F7D;&#x5E76;&#x5B89;&#x88C5;TiUP</li>
</ul>
<pre class="language-"><code class="lang-bash"><span class="token function">curl</span> <span class="token parameter variable">--proto</span> <span class="token string">&apos;=https&apos;</span> <span class="token parameter variable">--tlsv1.2</span> <span class="token parameter variable">-sSf</span> https://tiup-mirrors.pingcap.com/install.sh <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre>
<ul>
<li>&#x5B89;&#x88C5;TiUP&#x96C6;&#x7FA4;&#x7EC4;&#x4EF6;</li>
</ul>
<pre class="language-"><code class="lang-bash"><span class="token comment"># source bash_profile</span>
<span class="token builtin class-name">source</span> ~/.bash_profile
<span class="token comment"># &#x5B89;&#x88C5;tiup</span>
tiup cluster
<span class="token comment"># &#x66F4;&#x65B0;</span>
tiup update <span class="token parameter variable">--self</span> <span class="token operator">&amp;&amp;</span> tiup update cluster
</code></pre>
<ul>
<li><p>&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x96C6;&#x7FA4;</p>
<p>&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre class="language-"><code class="lang-bash"><span class="token function">cat</span> <span class="token operator">&gt;</span> topo.yaml <span class="token operator">&lt;&lt;-</span> <span class="token string">&apos;EOF&apos; 
# # Global variables are applied to all deployments and used as the default value of
# # the deployments if a specific deployment value is missing.
global:
 user: &quot;tidb&quot;
 ssh_port: 22
 deploy_dir: &quot;/tidbdata/tidb-deploy&quot;
 data_dir: &quot;/tidbdata/tidb-data&quot;

# # Monitored variables are applied to all the machines.
monitored:
 node_exporter_port: 9100
 blackbox_exporter_port: 9115

server_configs:
 tidb:
   log.slow-threshold: 300
 tikv:
   readpool.storage.use-unified-pool: false
   readpool.coprocessor.use-unified-pool: true
 pd:
   replication.enable-placement-rules: true
   replication.location-labels: [&quot;host&quot;]
 tiflash:
   logger.level: &quot;info&quot;

pd_servers:
 - host: 10.101.16.247

tidb_servers:
 - host: 10.101.16.246

tikv_servers:
 - host: 10.101.16.246
   port: 20160
   status_port: 20180
   config:
     server.labels: { host: &quot;tidb-node01&quot; }

 - host: 10.101.16.247
   port: 20161
   status_port: 20181
   config:
     server.labels: { host: &quot;tidb-node02&quot; }

 - host: 10.101.16.248
   port: 20162
   status_port: 20182
   config:
     server.labels: { host: &quot;tidb-node03&quot; }

tiflash_servers:
 - host: 10.101.16.248

monitoring_servers:
 - host: 10.101.16.246

grafana_servers:
 - host: 10.101.16.246
EOF</span>
</code></pre>
</li>
<li><p>&#x6267;&#x884C;&#x96C6;&#x7FA4;&#x90E8;&#x7F72;&#x547D;&#x4EE4;</p>
</li>
</ul>
<pre class="language-"><code class="lang-bash">tiup cluster deploy tidb-ddyw  v4.0.8 ./topo.yaml <span class="token parameter variable">--user</span> root
Deployed cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully, you can start the cluster via <span class="token variable"><span class="token variable">`</span>tiup cluster start tidb-ddyw<span class="token variable">`</span></span>
</code></pre>
<ul>
<li>&#x542F;&#x52A8;&#x96C6;&#x7FA4;</li>
</ul>
<pre class="language-"><code class="lang-bash">tiup cluster start tidb-ddyw
Started cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully
</code></pre>
<ul>
<li>&#x8BBF;&#x95EE;&#x96C6;&#x7FA4;</li>
</ul>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x5B89;&#x88C5;mysql client&#x5BA2;&#x6237;&#x7AEF;</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> mysql
<span class="token comment"># &#x8BBF;&#x95EE;TIDB,&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x5BC6;&#x7801;</span>
mysql <span class="token parameter variable">-h</span> <span class="token number">10.101</span>.16.246 <span class="token parameter variable">-P</span> <span class="token number">4000</span> <span class="token parameter variable">-u</span> root
MySQL <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
+--------------------+
<span class="token operator">|</span> Database           <span class="token operator">|</span>
+--------------------+
<span class="token operator">|</span> INFORMATION_SCHEMA <span class="token operator">|</span>
<span class="token operator">|</span> METRICS_SCHEMA     <span class="token operator">|</span>
<span class="token operator">|</span> PERFORMANCE_SCHEMA <span class="token operator">|</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token builtin class-name">test</span>               <span class="token operator">|</span>
+--------------------+
<span class="token number">5</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># &#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x5217;&#x8868;</span>
tiup cluster display tidb-ddyw
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster display tidb-ddyw
Cluster type:    tidb
Cluster name:    tidb-ddyw
Cluster version: v4.0.8
SSH type:        <span class="token builtin class-name">builtin</span>
ID                   Role        Host           Ports                            OS/Arch       Status   Data Dir                             Deploy Dir
--                   ----        ----           -----                            -------       ------   --------                             ----------
<span class="token number">10.101</span>.16.246:3000   grafana     <span class="token number">10.101</span>.16.246  <span class="token number">3000</span>                             linux/x86_64  Up       -                                    /tidbdata/tidb-deploy/grafana-3000
<span class="token number">10.101</span>.16.247:2379   pd          <span class="token number">10.101</span>.16.247  <span class="token number">2379</span>/2380                        linux/x86_64  Up<span class="token operator">|</span>L<span class="token operator">|</span>UI  /tidbdata/tidb-data/pd-2379          /tidbdata/tidb-deploy/pd-2379
<span class="token number">10.101</span>.16.246:9090   prometheus  <span class="token number">10.101</span>.16.246  <span class="token number">9090</span>                             linux/x86_64  Up       /tidbdata/tidb-data/prometheus-9090  /tidbdata/tidb-deploy/prometheus-9090
<span class="token number">10.101</span>.16.246:4000   tidb        <span class="token number">10.101</span>.16.246  <span class="token number">4000</span>/10080                       linux/x86_64  Up       -                                    /tidbdata/tidb-deploy/tidb-4000
<span class="token number">10.101</span>.16.248:9000   tiflash     <span class="token number">10.101</span>.16.248  <span class="token number">9000</span>/8123/3930/20170/20292/8234  linux/x86_64  Up       /tidbdata/tidb-data/tiflash-9000     /tidbdata/tidb-deploy/tiflash-9000
<span class="token number">10.101</span>.16.246:20160  tikv        <span class="token number">10.101</span>.16.246  <span class="token number">20160</span>/20180                      linux/x86_64  Up       /tidbdata/tidb-data/tikv-20160       /tidbdata/tidb-deploy/tikv-20160
<span class="token number">10.101</span>.16.247:20161  tikv        <span class="token number">10.101</span>.16.247  <span class="token number">20161</span>/20181                      linux/x86_64  Up       /tidbdata/tidb-data/tikv-20161       /tidbdata/tidb-deploy/tikv-20161
<span class="token number">10.101</span>.16.248:20162  tikv        <span class="token number">10.101</span>.16.248  <span class="token number">20162</span>/20182                      linux/x86_64  Up       /tidbdata/tidb-data/tikv-20162       /tidbdata/tidb-deploy/tikv-20162
Total nodes: <span class="token number">8</span>
<span class="token comment"># TIDB&#x8BBF;&#x95EE;</span>
<span class="token comment">## &#x5185;&#x7F51;&#x8BBF;&#x95EE;</span>
To connect TiDB: mysql <span class="token parameter variable">--host</span> <span class="token number">10.101</span>.16.246 <span class="token parameter variable">--port</span> <span class="token number">4000</span> <span class="token parameter variable">-u</span> root
To view the dashboard: http://10.101.16.246:2379/dashboard
To view the monitor: http://10.101.16.246:9090
<span class="token comment">## &#x5916;&#x7F51;&#x8BBF;&#x95EE;</span>
To connect TiDB: mysql <span class="token parameter variable">--host</span> <span class="token number">47.93</span>.55.89 <span class="token parameter variable">--port</span> <span class="token number">32002</span> <span class="token parameter variable">-u</span> root
To view the dashboard: http://47.93.55.89:32003/dashboard
To view the monitor prometheus: http://47.93.55.89:32004
To view the monitor grafana: http://47.93.55.89:32001 admin admin
</code></pre>
<h3 id="tidb&#x96C6;&#x7FA4;&#x7BA1;&#x7406;"><a name="tidb&#x96C6;&#x7FA4;&#x7BA1;&#x7406;" class="anchor-navigation-ex-anchor" href="#tidb&#x96C6;&#x7FA4;&#x7BA1;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.4. TIDB&#x96C6;&#x7FA4;&#x7BA1;&#x7406;</h3>
<h4 id="&#x96C6;&#x7FA4;&#x91CD;&#x542F;"><a name="&#x96C6;&#x7FA4;&#x91CD;&#x542F;" class="anchor-navigation-ex-anchor" href="#&#x96C6;&#x7FA4;&#x91CD;&#x542F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x96C6;&#x7FA4;&#x91CD;&#x542F;</h4>
<p>&#x5728;&#x505C;&#x6B62;node_exporter&#x65F6;,&#x51FA;&#x73B0;&#x8D85;&#x65F6;&#x73B0;&#x8C61;&#x62A5;&#x9519;,&#x5BFC;&#x81F4;&#x96C6;&#x7FA4;&#x76F4;&#x63A5;&#x6545;&#x969C;,&#x9700;&#x8981;&#x624B;&#x52A8;&#x542F;&#x52A8;&#x96C6;&#x7FA4;,&#x624D;&#x53EF;&#x56DE;&#x590D;&#x6B63;&#x5E38;,&#x67E5;&#x770B;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;tiup&#x90E8;&#x7F72;&#x5DE5;&#x5177;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x5305;,&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6E90;&#x7801;&#x624D;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;.</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x96C6;&#x7FA4;&#x91CD;&#x542F;</span>
<span class="token comment">## &#x51FA;&#x73B0;&#x8D85;&#x65F6;&#x62A5;&#x9519;</span>
tiup cluster restart tidb-ddyw
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster restart tidb-ddyw
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - SSHKeySet: <span class="token assign-left variable">privateKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa, <span class="token assign-left variable">publicKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - RestartCluster
Stopping component grafana
    Stopping instance <span class="token number">10.101</span>.16.245
    Stop grafana <span class="token number">10.101</span>.16.245:3000 success
Stopping component prometheus
    Stopping instance <span class="token number">10.101</span>.16.245
    Stop prometheus <span class="token number">10.101</span>.16.245:9090 success
Stopping component tiflash
    Stopping instance <span class="token number">10.101</span>.16.245
    Stop tiflash <span class="token number">10.101</span>.16.245:9000 success
Stopping component tidb
    Stopping instance <span class="token number">10.101</span>.16.245
    Stop tidb <span class="token number">10.101</span>.16.245:4000 success
Stopping component tikv
    Stopping instance <span class="token number">10.101</span>.16.245
    Stopping instance <span class="token number">10.101</span>.16.245
    Stopping instance <span class="token number">10.101</span>.16.245
    Stop tikv <span class="token number">10.101</span>.16.245:20162 success
    Stop tikv <span class="token number">10.101</span>.16.245:20160 success
    Stop tikv <span class="token number">10.101</span>.16.245:20161 success
Stopping component pd
    Stopping instance <span class="token number">10.101</span>.16.245
    Stop pd <span class="token number">10.101</span>.16.245:2379 success
Stopping component node_exporter
retry error: operation timed out after 2m0s
    pd <span class="token number">10.101</span>.16.245:2379 failed to stop: timed out waiting <span class="token keyword">for</span> port <span class="token number">9100</span> to be stopped after 2m0s

Error: failed to stop:     pd <span class="token number">10.101</span>.16.245:2379 failed to stop: timed out waiting <span class="token keyword">for</span> port <span class="token number">9100</span> to be stopped after 2m0s: timed out waiting <span class="token keyword">for</span> port <span class="token number">9100</span> to be stopped after 2m0s

Verbose debug logs has been written to /tidb-data/tikv-20160/logs/tiup-cluster-debug-2020-12-02-10-50-06.log.
Error: run <span class="token variable"><span class="token variable">`</span>/root/.tiup/components/cluster/v1.2.5/tiup-cluster<span class="token variable">`</span></span> <span class="token punctuation">(</span>wd:/root/.tiup/data/SHyfGAX<span class="token punctuation">)</span> failed: <span class="token builtin class-name">exit</span> status <span class="token number">1</span>
<span class="token comment">## &#x518D;&#x6B21;&#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x62D3;&#x6251;,&#x51FA;&#x73B0;&#x5F02;&#x5E38;</span>
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster display tidb-ddyw
Cluster type:    tidb
Cluster name:    tidb-ddyw
Cluster version: v4.0.8
SSH type:        <span class="token builtin class-name">builtin</span>
ID                   Role        Host           Ports                            OS/Arch       Status    Data Dir                    Deploy Dir
--                   ----        ----           -----                            -------       ------    --------                    ----------
<span class="token number">10.101</span>.16.245:3000   grafana     <span class="token number">10.101</span>.16.245  <span class="token number">3000</span>                             linux/x86_64  inactive  -                           /tidb-deploy/grafana-3000
<span class="token number">10.101</span>.16.245:2379   pd          <span class="token number">10.101</span>.16.245  <span class="token number">2379</span>/2380                        linux/x86_64  Down      /tidb-data/pd-2379          /tidb-deploy/pd-2379
<span class="token number">10.101</span>.16.245:9090   prometheus  <span class="token number">10.101</span>.16.245  <span class="token number">9090</span>                             linux/x86_64  inactive  /tidb-data/prometheus-9090  /tidb-deploy/prometheus-9090
<span class="token number">10.101</span>.16.245:4000   tidb        <span class="token number">10.101</span>.16.245  <span class="token number">4000</span>/10080                       linux/x86_64  Down      -                           /tidb-deploy/tidb-4000
<span class="token number">10.101</span>.16.245:9000   tiflash     <span class="token number">10.101</span>.16.245  <span class="token number">9000</span>/8123/3930/20170/20292/8234  linux/x86_64  Down      /tidb-data/tiflash-9000     /tidb-deploy/tiflash-9000
<span class="token number">10.101</span>.16.245:20160  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20160</span>/20180                      linux/x86_64  Down      /tidb-data/tikv-20160       /tidb-deploy/tikv-20160
<span class="token number">10.101</span>.16.245:20161  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20161</span>/20181                      linux/x86_64  Down      /tidb-data/tikv-20161       /tidb-deploy/tikv-20161
<span class="token number">10.101</span>.16.245:20162  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20162</span>/20182                      linux/x86_64  Down      /tidb-data/tikv-20162       /tidb-deploy/tikv-20162
Total nodes: <span class="token number">8</span>

WARN: get location labels from pd failed: Get http://10.101.16.245:2379/pd/api/v1/config/replicate: dial tcp <span class="token number">10.101</span>.16.245:2379: connect: connection refused
<span class="token comment">## &#x518D;&#x542F;&#x52A8;TIDB,&#x6062;&#x590D;&#x6B63;&#x5E38;</span>
tiup cluster start tidb-ddyw
tiup cluster display tidb-ddyw
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster display tidb-ddyw
Cluster type:    tidb
Cluster name:    tidb-ddyw
Cluster version: v4.0.8
SSH type:        <span class="token builtin class-name">builtin</span>
ID                   Role        Host           Ports                            OS/Arch       Status        Data Dir                    Deploy Dir
--                   ----        ----           -----                            -------       ------        --------                    ----------
<span class="token number">10.101</span>.16.245:3000   grafana     <span class="token number">10.101</span>.16.245  <span class="token number">3000</span>                             linux/x86_64  Up            -                           /tidb-deploy/grafana-3000
<span class="token number">10.101</span>.16.245:2379   pd          <span class="token number">10.101</span>.16.245  <span class="token number">2379</span>/2380                        linux/x86_64  Up<span class="token operator">|</span>L<span class="token operator">|</span>UI       /tidb-data/pd-2379          /tidb-deploy/pd-2379
<span class="token number">10.101</span>.16.245:9090   prometheus  <span class="token number">10.101</span>.16.245  <span class="token number">9090</span>                             linux/x86_64  Up            /tidb-data/prometheus-9090  /tidb-deploy/prometheus-9090
<span class="token number">10.101</span>.16.245:4000   tidb        <span class="token number">10.101</span>.16.245  <span class="token number">4000</span>/10080                       linux/x86_64  Up            -                           /tidb-deploy/tidb-4000
<span class="token number">10.101</span>.16.245:9000   tiflash     <span class="token number">10.101</span>.16.245  <span class="token number">9000</span>/8123/3930/20170/20292/8234  linux/x86_64  Disconnected  /tidb-data/tiflash-9000     /tidb-deploy/tiflash-9000
<span class="token number">10.101</span>.16.245:20160  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20160</span>/20180                      linux/x86_64  Up            /tidb-data/tikv-20160       /tidb-deploy/tikv-20160
<span class="token number">10.101</span>.16.245:20161  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20161</span>/20181                      linux/x86_64  Up            /tidb-data/tikv-20161       /tidb-deploy/tikv-20161
<span class="token number">10.101</span>.16.245:20162  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20162</span>/20182                      linux/x86_64  Up            /tidb-data/tikv-20162       /tidb-deploy/tikv-20162
Total nodes: <span class="token number">8</span>
</code></pre>
<h4 id="&#x66F4;&#x65B0;&#x914D;&#x7F6E;"><a name="&#x66F4;&#x65B0;&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66F4;&#x65B0;&#x914D;&#x7F6E;</h4>
<p>&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x793A;&#x4F8B;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5982;&#x4E0B;</p>
<pre class="language-"><code class="lang-bash"><span class="token function">curl</span> <span class="token parameter variable">-sL</span> https://raw.githubusercontent.com/pingcap/tidb/master/config/config.toml.example <span class="token parameter variable">-o</span> config.toml.example
</code></pre>
<p>&#x96C6;&#x7FA4;&#x66F4;&#x65B0;&#x914D;&#x7F6E;&#x5E76;&#x91CD;&#x542F;&#x7EC4;&#x4EF6;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x67E5;&#x770B;role&#x548C;node</span>
tiup cluster display tidb-ddyw 
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster display tidb-ddyw
Cluster type:    tidb
Cluster name:    tidb-ddyw
Cluster version: v4.0.8
SSH type:        <span class="token builtin class-name">builtin</span>
ID                   Role        Host           Ports                            OS/Arch       Status   Data Dir                    Deploy Dir
--                   ----        ----           -----                            -------       ------   --------                    ----------
<span class="token number">10.101</span>.16.245:3000   grafana     <span class="token number">10.101</span>.16.245  <span class="token number">3000</span>                             linux/x86_64  Up       -                           /tidb-deploy/grafana-3000
<span class="token number">10.101</span>.16.245:2379   pd          <span class="token number">10.101</span>.16.245  <span class="token number">2379</span>/2380                        linux/x86_64  Up<span class="token operator">|</span>L<span class="token operator">|</span>UI  /tidb-data/pd-2379          /tidb-deploy/pd-2379
<span class="token number">10.101</span>.16.245:9090   prometheus  <span class="token number">10.101</span>.16.245  <span class="token number">9090</span>                             linux/x86_64  Up       /tidb-data/prometheus-9090  /tidb-deploy/prometheus-9090
<span class="token number">10.101</span>.16.245:4000   tidb        <span class="token number">10.101</span>.16.245  <span class="token number">4000</span>/10080                       linux/x86_64  Up       -                           /tidb-deploy/tidb-4000
<span class="token number">10.101</span>.16.245:9000   tiflash     <span class="token number">10.101</span>.16.245  <span class="token number">9000</span>/8123/3930/20170/20292/8234  linux/x86_64  Up       /tidb-data/tiflash-9000     /tidb-deploy/tiflash-9000
<span class="token number">10.101</span>.16.245:20160  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20160</span>/20180                      linux/x86_64  Up       /tidb-data/tikv-20160       /tidb-deploy/tikv-20160
<span class="token number">10.101</span>.16.245:20161  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20161</span>/20181                      linux/x86_64  Up       /tidb-data/tikv-20161       /tidb-deploy/tikv-20161
<span class="token number">10.101</span>.16.245:20162  tikv        <span class="token number">10.101</span>.16.245  <span class="token number">20162</span>/20182                      linux/x86_64  Up       /tidb-data/tikv-20162       /tidb-deploy/tikv-20162
Total nodes: <span class="token number">8</span>
<span class="token comment"># &#x91CD;&#x542F;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;</span>
tiup cluster reload tidb-ddyw
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster reload tidb-ddyw
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - SSHKeySet: <span class="token assign-left variable">privateKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa, <span class="token assign-left variable">publicKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ Refresh instance configs
  - Refresh config pd -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:2379 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20160 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20161 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20162 <span class="token punctuation">..</span>. Done
  - Refresh config tidb -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:4000 <span class="token punctuation">..</span>. Done
  - Refresh config tiflash -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:9000 <span class="token punctuation">..</span>. Done
  - Refresh config prometheus -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:9090 <span class="token punctuation">..</span>. Done
  - Refresh config grafana -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:3000 <span class="token punctuation">..</span>. Done
+ Refresh monitor configs
  - Refresh config node_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Refresh config blackbox_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - UpgradeCluster
Restarting component tiflash
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Restarting component pd
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Restarting component tikv
Still waitting <span class="token keyword">for</span> the PD leader to be elected
Evicting <span class="token number">9</span> leaders from store <span class="token number">10.101</span>.16.245:20160<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">9</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">9</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">9</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">9</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">9</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">9</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">8</span> store leaders to transfer<span class="token punctuation">..</span>.
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Delete leader evicting scheduler of store <span class="token number">4</span> success
Removed store leader evicting scheduler from <span class="token number">10.101</span>.16.245:20160.
Evicting <span class="token number">12</span> leaders from store <span class="token number">10.101</span>.16.245:20161<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">12</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">12</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">12</span> store leaders to transfer<span class="token punctuation">..</span>.
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Delete leader evicting scheduler of store <span class="token number">5</span> success
Removed store leader evicting scheduler from <span class="token number">10.101</span>.16.245:20161.
Evicting <span class="token number">14</span> leaders from store <span class="token number">10.101</span>.16.245:20162<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">14</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">14</span> store leaders to transfer<span class="token punctuation">..</span>.
Still waitting <span class="token keyword">for</span> <span class="token number">14</span> store leaders to transfer<span class="token punctuation">..</span>.
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Delete leader evicting scheduler of store <span class="token number">1</span> success
Removed store leader evicting scheduler from <span class="token number">10.101</span>.16.245:20162.
Restarting component tidb
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Restarting component prometheus
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Restarting component grafana
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Reloaded cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully
<span class="token comment"># &#x6839;&#x636E;node&#x91CD;&#x542F;&#x7EC4;&#x4EF6;</span>
tiup cluster reload tidb-ddyw <span class="token parameter variable">-N</span> <span class="token number">10.101</span>.16.245:9090
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster reload tidb-ddyw <span class="token parameter variable">-N</span> <span class="token number">10.101</span>.16.245:9090
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - SSHKeySet: <span class="token assign-left variable">privateKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa, <span class="token assign-left variable">publicKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ Refresh instance configs
  - Refresh config pd -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:2379 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20160 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20161 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20162 <span class="token punctuation">..</span>. Done
  - Refresh config tidb -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:4000 <span class="token punctuation">..</span>. Done
  - Refresh config tiflash -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:9000 <span class="token punctuation">..</span>. Done
  - Refresh config prometheus -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:9090 <span class="token punctuation">..</span>. Done
  - Refresh config grafana -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:3000 <span class="token punctuation">..</span>. Done
+ Refresh monitor configs
  - Refresh config node_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Refresh config blackbox_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - UpgradeCluster
Restarting component prometheus
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Reloaded cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully
<span class="token comment"># &#x6839;&#x636E;role&#x91CD;&#x542F;&#x7EC4;&#x4EF6;</span>
tiup cluster reload tidb-ddyw <span class="token parameter variable">-R</span> prometheus
Starting component <span class="token variable"><span class="token variable">`</span>cluster<span class="token variable">`</span></span><span class="token builtin class-name">:</span> /root/.tiup/components/cluster/v1.2.5/tiup-cluster reload tidb-ddyw <span class="token parameter variable">-R</span> prometheus
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - SSHKeySet: <span class="token assign-left variable">privateKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa, <span class="token assign-left variable">publicKey</span><span class="token operator">=</span>/root/.tiup/storage/cluster/clusters/tidb-ddyw/ssh/id_rsa.pub
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ <span class="token punctuation">[</span>Parallel<span class="token punctuation">]</span> - UserSSH: <span class="token assign-left variable">user</span><span class="token operator">=</span>tidb, <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">10.101</span>.16.245
+ Refresh instance configs
  - Refresh config pd -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:2379 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20160 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20161 <span class="token punctuation">..</span>. Done
  - Refresh config tikv -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:20162 <span class="token punctuation">..</span>. Done
  - Refresh config tidb -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:4000 <span class="token punctuation">..</span>. Done
  - Refresh config tiflash -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:9000 <span class="token punctuation">..</span>. Done
  - Refresh config prometheus -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:9090 <span class="token punctuation">..</span>. Done
  - Refresh config grafana -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245:3000 <span class="token punctuation">..</span>. Done
+ Refresh monitor configs
  - Refresh config node_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
  - Refresh config blackbox_exporter -<span class="token operator">&gt;</span> <span class="token number">10.101</span>.16.245 <span class="token punctuation">..</span>. Done
+ <span class="token punctuation">[</span> Serial <span class="token punctuation">]</span> - UpgradeCluster
Restarting component prometheus
    Restarting instance <span class="token number">10.101</span>.16.245
    Restart <span class="token number">10.101</span>.16.245 success
Reloaded cluster <span class="token variable"><span class="token variable">`</span>tidb-ddyw<span class="token variable">`</span></span> successfully
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x914D;&#x7F6E;"><a name="&#x67E5;&#x770B;&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x914D;&#x7F6E;</h4>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x67E5;&#x770B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span>
<span class="token builtin class-name">pwd</span><span class="token punctuation">;</span>tree tidb-* pd-* tikv-* tiflash-*/conf<span class="token punctuation">;</span>
/tidb-deploy
tidb-4000
&#x251C;&#x2500;&#x2500; bin
&#x2502;   &#x2514;&#x2500;&#x2500; tidb-server
&#x251C;&#x2500;&#x2500; conf
&#x2502;   &#x2514;&#x2500;&#x2500; tidb.toml
&#x251C;&#x2500;&#x2500; log
&#x2502;   &#x251C;&#x2500;&#x2500; tidb.log
&#x2502;   &#x251C;&#x2500;&#x2500; tidb_slow_query.log
&#x2502;   &#x2514;&#x2500;&#x2500; tidb_stderr.log
&#x2514;&#x2500;&#x2500; scripts
    &#x2514;&#x2500;&#x2500; run_tidb.sh
pd-2379
&#x251C;&#x2500;&#x2500; bin
&#x2502;   &#x2514;&#x2500;&#x2500; pd-server
&#x251C;&#x2500;&#x2500; conf
&#x2502;   &#x2514;&#x2500;&#x2500; pd.toml
&#x251C;&#x2500;&#x2500; log
&#x2502;   &#x251C;&#x2500;&#x2500; pd.log
&#x2502;   &#x2514;&#x2500;&#x2500; pd_stderr.log
&#x2514;&#x2500;&#x2500; scripts
    &#x2514;&#x2500;&#x2500; run_pd.sh
tikv-20160
&#x251C;&#x2500;&#x2500; bin
&#x2502;   &#x2514;&#x2500;&#x2500; tikv-server
&#x251C;&#x2500;&#x2500; conf
&#x2502;   &#x2514;&#x2500;&#x2500; tikv.toml
&#x251C;&#x2500;&#x2500; log
&#x2502;   &#x251C;&#x2500;&#x2500; tikv.log
&#x2502;   &#x2514;&#x2500;&#x2500; tikv_stderr.log
&#x2514;&#x2500;&#x2500; scripts
    &#x2514;&#x2500;&#x2500; run_tikv.sh
tikv-20161
&#x251C;&#x2500;&#x2500; bin
&#x2502;   &#x2514;&#x2500;&#x2500; tikv-server
&#x251C;&#x2500;&#x2500; conf
&#x2502;   &#x2514;&#x2500;&#x2500; tikv.toml
&#x251C;&#x2500;&#x2500; log
&#x2502;   &#x251C;&#x2500;&#x2500; tikv.log
&#x2502;   &#x2514;&#x2500;&#x2500; tikv_stderr.log
&#x2514;&#x2500;&#x2500; scripts
    &#x2514;&#x2500;&#x2500; run_tikv.sh
tikv-20162
&#x251C;&#x2500;&#x2500; bin
&#x2502;   &#x2514;&#x2500;&#x2500; tikv-server
&#x251C;&#x2500;&#x2500; conf
&#x2502;   &#x2514;&#x2500;&#x2500; tikv.toml
&#x251C;&#x2500;&#x2500; log
&#x2502;   &#x251C;&#x2500;&#x2500; tikv.log
&#x2502;   &#x2514;&#x2500;&#x2500; tikv_stderr.log
&#x2514;&#x2500;&#x2500; scripts
    &#x2514;&#x2500;&#x2500; run_tikv.sh
tiflash-9000/conf
&#x251C;&#x2500;&#x2500; tiflash-learner.toml
&#x251C;&#x2500;&#x2500; tiflash-preprocessed.toml
&#x2514;&#x2500;&#x2500; tiflash.toml

<span class="token number">20</span> directories, <span class="token number">29</span> files
<span class="token comment"># &#x67E5;&#x770B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;</span>
tree tidb-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> tidb-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>+++++++++++++++++++++++++++++++++++++++++++++++<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">;</span>tree pd-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> pd-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>+++++++++++++++++++++++++++++++++++++++++++++++<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">;</span>tree tikv-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> tikv-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>+++++++++++++++++++++++++++++++++++++++++++++++<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">;</span>tree tiflash-*/conf/*.toml <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> tiflash-*/conf/*.toml<span class="token punctuation">;</span>

tidb-4000/conf/tidb.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>

<span class="token number">0</span> directories, <span class="token number">0</span> files
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   tidb:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
<span class="token punctuation">[</span>log<span class="token punctuation">]</span>
slow-threshold <span class="token operator">=</span> <span class="token number">300</span>

+++++++++++++++++++++++++++++++++++++++++++++++

pd-2379/conf/pd.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>

<span class="token number">0</span> directories, <span class="token number">0</span> files
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   pd:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
<span class="token punctuation">[</span>pd-server<span class="token punctuation">]</span>
metric-storage <span class="token operator">=</span> <span class="token string">&quot;http://10.101.16.245:9090&quot;</span>

<span class="token punctuation">[</span>replication<span class="token punctuation">]</span>
enable-placement-rules <span class="token operator">=</span> <span class="token boolean">true</span>
location-labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;host&quot;</span><span class="token punctuation">]</span>

+++++++++++++++++++++++++++++++++++++++++++++++

tikv-20160/conf/tikv.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>
tikv-20161/conf/tikv.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>
tikv-20162/conf/tikv.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>

<span class="token number">0</span> directories, <span class="token number">0</span> files
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   tikv:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
<span class="token punctuation">[</span>readpool<span class="token punctuation">]</span>
<span class="token punctuation">[</span>readpool.coprocessor<span class="token punctuation">]</span>
use-unified-pool <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">[</span>readpool.storage<span class="token punctuation">]</span>
use-unified-pool <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token punctuation">[</span>server<span class="token punctuation">]</span>
<span class="token punctuation">[</span>server.labels<span class="token punctuation">]</span>
<span class="token function">host</span> <span class="token operator">=</span> <span class="token string">&quot;logic-host-1&quot;</span>
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   tikv:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
<span class="token punctuation">[</span>readpool<span class="token punctuation">]</span>
<span class="token punctuation">[</span>readpool.coprocessor<span class="token punctuation">]</span>
use-unified-pool <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">[</span>readpool.storage<span class="token punctuation">]</span>
use-unified-pool <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token punctuation">[</span>server<span class="token punctuation">]</span>
<span class="token punctuation">[</span>server.labels<span class="token punctuation">]</span>
<span class="token function">host</span> <span class="token operator">=</span> <span class="token string">&quot;logic-host-2&quot;</span>
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   tikv:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
<span class="token punctuation">[</span>readpool<span class="token punctuation">]</span>
<span class="token punctuation">[</span>readpool.coprocessor<span class="token punctuation">]</span>
use-unified-pool <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">[</span>readpool.storage<span class="token punctuation">]</span>
use-unified-pool <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token punctuation">[</span>server<span class="token punctuation">]</span>
<span class="token punctuation">[</span>server.labels<span class="token punctuation">]</span>
<span class="token function">host</span> <span class="token operator">=</span> <span class="token string">&quot;logic-host-3&quot;</span>

+++++++++++++++++++++++++++++++++++++++++++++++

tiflash-9000/conf/tiflash-learner.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>
tiflash-9000/conf/tiflash-preprocessed.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>
tiflash-9000/conf/tiflash.toml <span class="token punctuation">[</span>error opening dir<span class="token punctuation">]</span>

<span class="token number">0</span> directories, <span class="token number">0</span> files
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   tiflash-learner:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
log-file <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash_tikv.log&quot;</span>

<span class="token punctuation">[</span>raftstore<span class="token punctuation">]</span>
apply-pool-size <span class="token operator">=</span> <span class="token number">4</span>
store-pool-size <span class="token operator">=</span> <span class="token number">4</span>

<span class="token punctuation">[</span>rocksdb<span class="token punctuation">]</span>
wal-dir <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>

<span class="token punctuation">[</span>security<span class="token punctuation">]</span>
ca-path <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
cert-path <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
key-path <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>

<span class="token punctuation">[</span>server<span class="token punctuation">]</span>
addr <span class="token operator">=</span> <span class="token string">&quot;0.0.0.0:20170&quot;</span>
advertise-addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:20170&quot;</span>
advertise-status-addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:20292&quot;</span>
engine-addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:3930&quot;</span>
status-addr <span class="token operator">=</span> <span class="token string">&quot;0.0.0.0:20292&quot;</span>

<span class="token punctuation">[</span>storage<span class="token punctuation">]</span>
data-dir <span class="token operator">=</span> <span class="token string">&quot;/tidb-data/tiflash-9000/flash&quot;</span>
tmp_path <span class="token operator">=</span> <span class="token string">&quot;/tidb-data/tiflash-9000/tmp&quot;</span>
tcp_port <span class="token operator">=</span> <span class="token number">9000</span>
display_name <span class="token operator">=</span> <span class="token string">&quot;TiFlash&quot;</span>
default_profile <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
mark_cache_size <span class="token operator">=</span> <span class="token number">5368709120</span>
http_port <span class="token operator">=</span> <span class="token number">8123</span>
listen_host <span class="token operator">=</span> <span class="token string">&quot;0.0.0.0&quot;</span>
path <span class="token operator">=</span> <span class="token string">&quot;/tidb-data/tiflash-9000&quot;</span>
<span class="token punctuation">[</span>users<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>users.readonly<span class="token punctuation">]</span>
        <span class="token function">quota</span> <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
        password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
        profile <span class="token operator">=</span> <span class="token string">&quot;readonly&quot;</span>
        <span class="token punctuation">[</span>users.readonly.networks<span class="token punctuation">]</span>
            <span class="token function">ip</span> <span class="token operator">=</span> <span class="token string">&quot;::/0&quot;</span>
    <span class="token punctuation">[</span>users.default<span class="token punctuation">]</span>
        <span class="token function">quota</span> <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
        password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
        profile <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
        <span class="token punctuation">[</span>users.default.networks<span class="token punctuation">]</span>
            <span class="token function">ip</span> <span class="token operator">=</span> <span class="token string">&quot;::/0&quot;</span>
<span class="token punctuation">[</span>status<span class="token punctuation">]</span>
    metrics_port <span class="token operator">=</span> <span class="token number">8234</span>
<span class="token punctuation">[</span>profiles<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>profiles.readonly<span class="token punctuation">]</span>
        <span class="token builtin class-name">readonly</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">[</span>profiles.default<span class="token punctuation">]</span>
        use_uncompressed_cache <span class="token operator">=</span> <span class="token number">0</span>
        load_balancing <span class="token operator">=</span> <span class="token string">&quot;random&quot;</span>
        max_memory_usage <span class="token operator">=</span> <span class="token number">10000000000</span>
<span class="token punctuation">[</span>quotas<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>quotas.default<span class="token punctuation">]</span>
        <span class="token punctuation">[</span>quotas.default.interval<span class="token punctuation">]</span>
            result_rows <span class="token operator">=</span> <span class="token number">0</span>
            read_rows <span class="token operator">=</span> <span class="token number">0</span>
            queries <span class="token operator">=</span> <span class="token number">0</span>
            execution_time <span class="token operator">=</span> <span class="token number">0</span>
            duration <span class="token operator">=</span> <span class="token number">3600</span>
            errors <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span>raft<span class="token punctuation">]</span>
    pd_addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:2379&quot;</span>
<span class="token punctuation">[</span>flash<span class="token punctuation">]</span>
    service_addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:3930&quot;</span>
    tidb_status_addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:10080&quot;</span>
    <span class="token punctuation">[</span>flash.proxy<span class="token punctuation">]</span>
        config <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/conf/tiflash-learner.toml&quot;</span>
    <span class="token punctuation">[</span>flash.flash_cluster<span class="token punctuation">]</span>
        update_rule_interval <span class="token operator">=</span> <span class="token number">5</span>
        master_ttl <span class="token operator">=</span> <span class="token number">60</span>
        refresh_interval <span class="token operator">=</span> <span class="token number">20</span>
        cluster_manager_path <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/bin/tiflash/flash_cluster_manager&quot;</span>
        log <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash_cluster_manager.log&quot;</span>
<span class="token punctuation">[</span>application<span class="token punctuation">]</span>
    runAsDaemon <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">[</span>logger<span class="token punctuation">]</span>
    log <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash.log&quot;</span>
    level <span class="token operator">=</span> <span class="token string">&quot;info&quot;</span>
    size <span class="token operator">=</span> <span class="token string">&quot;1000M&quot;</span>
    count <span class="token operator">=</span> <span class="token number">20</span>
    errorlog <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash_error.log&quot;</span>
<span class="token comment"># WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!</span>
<span class="token comment"># You can use &apos;tiup cluster edit-config&apos; and &apos;tiup cluster reload&apos; to update the configuration</span>
<span class="token comment"># All configuration items you want to change can be added to:</span>
<span class="token comment"># server_configs:</span>
<span class="token comment">#   tiflash:</span>
<span class="token comment">#     aa.b1.c3: value</span>
<span class="token comment">#     aa.b2.c4: value</span>
default_profile <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
display_name <span class="token operator">=</span> <span class="token string">&quot;TiFlash&quot;</span>
http_port <span class="token operator">=</span> <span class="token number">8123</span>
listen_host <span class="token operator">=</span> <span class="token string">&quot;0.0.0.0&quot;</span>
mark_cache_size <span class="token operator">=</span> <span class="token number">5368709120</span>
path <span class="token operator">=</span> <span class="token string">&quot;/tidb-data/tiflash-9000&quot;</span>
tcp_port <span class="token operator">=</span> <span class="token number">9000</span>
tmp_path <span class="token operator">=</span> <span class="token string">&quot;/tidb-data/tiflash-9000/tmp&quot;</span>

<span class="token punctuation">[</span>application<span class="token punctuation">]</span>
runAsDaemon <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span>flash<span class="token punctuation">]</span>
service_addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:3930&quot;</span>
tidb_status_addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:10080&quot;</span>
<span class="token punctuation">[</span>flash.flash_cluster<span class="token punctuation">]</span>
cluster_manager_path <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/bin/tiflash/flash_cluster_manager&quot;</span>
log <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash_cluster_manager.log&quot;</span>
master_ttl <span class="token operator">=</span> <span class="token number">60</span>
refresh_interval <span class="token operator">=</span> <span class="token number">20</span>
update_rule_interval <span class="token operator">=</span> <span class="token number">5</span>
<span class="token punctuation">[</span>flash.proxy<span class="token punctuation">]</span>
config <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/conf/tiflash-learner.toml&quot;</span>

<span class="token punctuation">[</span>logger<span class="token punctuation">]</span>
count <span class="token operator">=</span> <span class="token number">20</span>
errorlog <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash_error.log&quot;</span>
level <span class="token operator">=</span> <span class="token string">&quot;info&quot;</span>
log <span class="token operator">=</span> <span class="token string">&quot;/tidb-deploy/tiflash-9000/log/tiflash.log&quot;</span>
size <span class="token operator">=</span> <span class="token string">&quot;1000M&quot;</span>

<span class="token punctuation">[</span>profiles<span class="token punctuation">]</span>
<span class="token punctuation">[</span>profiles.default<span class="token punctuation">]</span>
load_balancing <span class="token operator">=</span> <span class="token string">&quot;random&quot;</span>
max_memory_usage <span class="token operator">=</span> <span class="token number">10000000000</span>
use_uncompressed_cache <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span>profiles.readonly<span class="token punctuation">]</span>
<span class="token builtin class-name">readonly</span> <span class="token operator">=</span> <span class="token number">1</span>

<span class="token punctuation">[</span>quotas<span class="token punctuation">]</span>
<span class="token punctuation">[</span>quotas.default<span class="token punctuation">]</span>
<span class="token punctuation">[</span>quotas.default.interval<span class="token punctuation">]</span>
duration <span class="token operator">=</span> <span class="token number">3600</span>
errors <span class="token operator">=</span> <span class="token number">0</span>
execution_time <span class="token operator">=</span> <span class="token number">0</span>
queries <span class="token operator">=</span> <span class="token number">0</span>
read_rows <span class="token operator">=</span> <span class="token number">0</span>
result_rows <span class="token operator">=</span> <span class="token number">0</span>

<span class="token punctuation">[</span>raft<span class="token punctuation">]</span>
pd_addr <span class="token operator">=</span> <span class="token string">&quot;10.101.16.245:2379&quot;</span>

<span class="token punctuation">[</span>status<span class="token punctuation">]</span>
metrics_port <span class="token operator">=</span> <span class="token number">8234</span>

<span class="token punctuation">[</span>users<span class="token punctuation">]</span>
<span class="token punctuation">[</span>users.default<span class="token punctuation">]</span>
password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
profile <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
<span class="token function">quota</span> <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
<span class="token punctuation">[</span>users.default.networks<span class="token punctuation">]</span>
<span class="token function">ip</span> <span class="token operator">=</span> <span class="token string">&quot;::/0&quot;</span>
<span class="token punctuation">[</span>users.readonly<span class="token punctuation">]</span>
password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
profile <span class="token operator">=</span> <span class="token string">&quot;readonly&quot;</span>
<span class="token function">quota</span> <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
<span class="token punctuation">[</span>users.readonly.networks<span class="token punctuation">]</span>
<span class="token function">ip</span> <span class="token operator">=</span> <span class="token string">&quot;::/0&quot;</span>
</code></pre>
<h3 id="&#x6570;&#x636E;&#x8FC1;&#x79FB;"><a name="&#x6570;&#x636E;&#x8FC1;&#x79FB;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x8FC1;&#x79FB;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.5. &#x6570;&#x636E;&#x8FC1;&#x79FB;</h3>
<h4 id="&#x6570;&#x636E;&#x5BFC;&#x5165;"><a name="&#x6570;&#x636E;&#x5BFC;&#x5165;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x5BFC;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x5BFC;&#x5165;</h4>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x4E0B;&#x8F7D;&#x793A;&#x4F8B;&#x6570;&#x636E;</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> bikeshare-data <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> bikeshare-data
<span class="token function">curl</span> <span class="token parameter variable">-L</span> --remote-name-all https://s3.amazonaws.com/capitalbikeshare-data/<span class="token punctuation">{</span><span class="token number">2010</span><span class="token punctuation">..</span><span class="token number">2017</span><span class="token punctuation">}</span>-capitalbikeshare-tripdata.zip
<span class="token function">unzip</span> <span class="token punctuation">\</span>*-tripdata.zip
<span class="token comment"># &#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5230;TIDB&#x4E2D;</span>
<span class="token comment">## &#x521B;&#x5EFA;&#x8868;</span>
CREATE DATABASE bikeshare<span class="token punctuation">;</span>
USE bikeshare<span class="token punctuation">;</span>

CREATE TABLE trips <span class="token punctuation">(</span>
 trip_id bigint NOT NULL PRIMARY KEY AUTO_INCREMENT,
 duration integer not null,
 start_date datetime,
 end_date datetime,
 start_station_number integer,
 start_station varchar<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>,
 end_station_number integer,
 end_station varchar<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>,
 bike_number varchar<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>,
 member_type varchar<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">## &#x5BFC;&#x5165;&#x5355;&#x4E2A;&#x6587;&#x4EF6;&#x6570;&#x636E;</span>
LOAD DATA LOCAL INFILE <span class="token string">&apos;2017Q1-capitalbikeshare-tripdata.csv&apos;</span> INTO TABLE trips
  FIELDS TERMINATED BY <span class="token string">&apos;,&apos;</span> ENCLOSED BY <span class="token string">&apos;&quot;&apos;</span>
  <span class="token environment constant">LINES</span> TERMINATED BY <span class="token string">&apos;\r\n&apos;</span>
  IGNORE <span class="token number">1</span> <span class="token environment constant">LINES</span>
<span class="token punctuation">(</span>duration, start_date, end_date, start_station_number, start_station,
end_station_number, end_station, bike_number, member_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">## &#x6279;&#x91CF;&#x5BFC;&#x5165;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">FILE</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> *.csv<span class="token variable">`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
 <span class="token builtin class-name">echo</span> <span class="token string">&quot;== <span class="token variable">$FILE</span> ==&quot;</span>
 mysql bikeshare --local-infile<span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;LOAD DATA LOCAL INFILE &apos;<span class="token variable">${FILE}</span>&apos; INTO TABLE trips FIELDS TERMINATED BY &apos;,&apos; ENCLOSED BY &apos;<span class="token entity" title="\&quot;">\&quot;</span>&apos; LINES TERMINATED BY &apos;<span class="token entity" title="\r">\r</span><span class="token entity" title="\n">\n</span>&apos; IGNORE 1 LINES (duration, start_date, end_date, start_station_number, start_station, end_station_number, end_station, bike_number, member_type);&quot;</span>
<span class="token keyword">done</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="sysbench&#x6D4B;&#x8BD5;tidb"><a name="sysbench&#x6D4B;&#x8BD5;tidb" class="anchor-navigation-ex-anchor" href="#sysbench&#x6D4B;&#x8BD5;tidb"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.6. Sysbench&#x6D4B;&#x8BD5;TIDB</h3>
<p>IDC&#x673A;&#x5668;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>&#x7C7B;&#x578B;</th>
<th>&#x540D;&#x79F0;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</td>
<td></td>
</tr>
<tr>
<td>&#x4E2D;&#x592E;&#x5904;&#x7406;&#x5668;</td>
<td></td>
</tr>
<tr>
<td>&#x5185;&#x5B58;</td>
<td></td>
</tr>
<tr>
<td>&#x78C1;&#x76D8;</td>
<td></td>
</tr>
<tr>
<td>&#x7F51;&#x5361;</td>
</tr>
</tbody>
</table>
<h4 id="&#x96C6;&#x7FA4;&#x62D3;&#x6251;"><a name="&#x96C6;&#x7FA4;&#x62D3;&#x6251;" class="anchor-navigation-ex-anchor" href="#&#x96C6;&#x7FA4;&#x62D3;&#x6251;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x96C6;&#x7FA4;&#x62D3;&#x6251;</h4>
<table>
<thead>
<tr>
<th>&#x673A;&#x5668;IP</th>
<th>&#x90E8;&#x7F72;&#x5B9E;&#x4F8B;</th>
</tr>
</thead>
<tbody>
<tr>
<td>10.101.16.246</td>
<td>sysbench</td>
</tr>
<tr>
<td>10.101.16.246</td>
<td>tidb tikv</td>
</tr>
<tr>
<td>10.101.16.247</td>
<td>tikv pd</td>
</tr>
<tr>
<td>10.101.16.248</td>
<td>tikv tiflash</td>
</tr>
</tbody>
</table>
<h4 id="tidb&#x914D;&#x7F6E;"><a name="tidb&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#tidb&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>TIDB&#x914D;&#x7F6E;</h4>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>log<span class="token punctuation">]</span>
level <span class="token operator">=</span> <span class="token string">&quot;error&quot;</span>
<span class="token punctuation">[</span>prepared-plan-cache<span class="token punctuation">]</span>
enabled <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre>
<h4 id="tikv&#x914D;&#x7F6E;"><a name="tikv&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#tikv&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>TIKV&#x914D;&#x7F6E;</h4>
<p>&#x9ED8;&#x8BA4;CF&#xFF1A;&#x5199;&#x5165;CF = 4&#xFF1A;1</p>
<pre class="language-"><code class="lang-bash">log-level <span class="token operator">=</span> <span class="token string">&quot;error&quot;</span>
<span class="token punctuation">[</span>rocksdb.defaultcf<span class="token punctuation">]</span>
block-cache-size <span class="token operator">=</span> <span class="token string">&quot;8GB&quot;</span>
<span class="token punctuation">[</span>rocksdb.writecf<span class="token punctuation">]</span>
block-cache-size <span class="token operator">=</span> <span class="token string">&quot;2GB&quot;</span>
</code></pre>
<h4 id="reload-&#x914D;&#x7F6E;"><a name="reload-&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#reload-&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>Reload &#x914D;&#x7F6E;</h4>
<pre class="language-"><code class="lang-bash">tiup cluster reload tidb-ddyw
</code></pre>
<h4 id="&#x6D4B;&#x8BD5;"><a name="&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D4B;&#x8BD5;</h4>
<h5 id="&#x5B89;&#x88C5;sysbench"><a name="&#x5B89;&#x88C5;sysbench" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;sysbench"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;Sysbench</h5>
<pre class="language-"><code class="lang-bash"><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://packagecloud.io/install/repositories/akopytov/sysbench/script.rpm.sh <span class="token operator">|</span> <span class="token function">bash</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> sysbench
</code></pre>
<h5 id="sysbench&#x914D;&#x7F6E;"><a name="sysbench&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#sysbench&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>Sysbench&#x914D;&#x7F6E;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x914D;&#x7F6E;8&#x4E2A;&#x7EBF;&#x7A0B;</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> config <span class="token operator">&lt;&lt;-</span> <span class="token string">&apos;EOF&apos;
mysql-host=10.101.16.246
mysql-port=4000
mysql-user=root
#mysql-password=password
mysql-password=&apos;&apos;
mysql-db=sbtest
time=600
#threads={8, 16, 32, 64, 128, 256}
threads=8
report-interval=10
db-driver=mysql
EOF</span>
</code></pre>
<h5 id="&#x914D;&#x7F6E;tidb"><a name="&#x914D;&#x7F6E;tidb" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;tidb"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;TIDB</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;,&#x914D;&#x7F6E;&#x53C2;&#x6570;</span>
<span class="token builtin class-name">set</span> global tidb_disable_txn_auto_retry <span class="token operator">=</span> off<span class="token punctuation">;</span>
<span class="token comment"># &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</span>
create database sbtest<span class="token punctuation">;</span>
</code></pre>
<h5 id="&#x5BFC;&#x5165;&#x6570;&#x636E;"><a name="&#x5BFC;&#x5165;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x5BFC;&#x5165;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BFC;&#x5165;&#x6570;&#x636E;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># &#x5BFC;&#x5165;&#x6570;&#x636E;(32&#x5F20;&#x8868;,5000&#x4E07;&#x6570;&#x636E;)</span>
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> prepare
<span class="token comment"># &#x67E5;&#x770B;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;</span>
MySQL <span class="token punctuation">[</span>sbtest<span class="token punctuation">]</span><span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+------------------+
<span class="token operator">|</span> Tables_in_sbtest <span class="token operator">|</span>
+------------------+
<span class="token operator">|</span> sbtest1          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest2          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest3          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest4          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest5          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest6          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest7          <span class="token operator">|</span>
<span class="token operator">|</span> sbtest8          <span class="token operator">|</span>
+------------------+
<span class="token number">8</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

<span class="token comment"># &#x67E5;&#x770B;&#x8868;&#x7ED3;&#x6784;</span>
MySQL <span class="token punctuation">[</span>sbtest<span class="token punctuation">]</span><span class="token operator">&gt;</span> desc sbtest1<span class="token punctuation">;</span>
+-------+-----------+------+------+---------+----------------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type      <span class="token operator">|</span> Null <span class="token operator">|</span> Key  <span class="token operator">|</span> Default <span class="token operator">|</span> Extra          <span class="token operator">|</span>
+-------+-----------+------+------+---------+----------------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>   <span class="token operator">|</span> NO   <span class="token operator">|</span> PRI  <span class="token operator">|</span> NULL    <span class="token operator">|</span> auto_increment <span class="token operator">|</span>
<span class="token operator">|</span> k     <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>   <span class="token operator">|</span> NO   <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> c     <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span> <span class="token operator">|</span> NO   <span class="token operator">|</span>      <span class="token operator">|</span>         <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> pad   <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token operator">|</span> NO   <span class="token operator">|</span>      <span class="token operator">|</span>         <span class="token operator">|</span>                <span class="token operator">|</span>
+-------+-----------+------+------+---------+----------------+
<span class="token number">4</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># &#x67E5;&#x770B;&#x6570;&#x636E;&#x8BB0;&#x5F55;,&#x7531;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x67E5;&#x8BE2;&#x65F6;&#x95F4;&#x4E0D;&#x56FA;&#x5B9A;</span>
MySQL <span class="token punctuation">[</span>sbtest<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> count<span class="token punctuation">(</span>*<span class="token punctuation">)</span> from sbtest1<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> count<span class="token punctuation">(</span>*<span class="token punctuation">)</span> <span class="token operator">|</span>
+----------+
<span class="token operator">|</span>   <span class="token number">588081</span> <span class="token operator">|</span>
+----------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">2.07</span> sec<span class="token punctuation">)</span>

MySQL <span class="token punctuation">[</span>sbtest<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> count<span class="token punctuation">(</span>*<span class="token punctuation">)</span> from sbtest1<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> count<span class="token punctuation">(</span>*<span class="token punctuation">)</span> <span class="token operator">|</span>
+----------+
<span class="token operator">|</span>   <span class="token number">588081</span> <span class="token operator">|</span>
+----------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">1.22</span> sec<span class="token punctuation">)</span>

<span class="token comment"># &#x5355;&#x8868;&#x67E5;&#x8BE2;&#x6D4B;&#x8BD5;</span>
MySQL <span class="token punctuation">[</span>sbtest<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> count<span class="token punctuation">(</span>id<span class="token punctuation">)</span> from sbtest4<span class="token punctuation">;</span>
</code></pre>
<p>sysbench mysql &#x7684;&#x6D4B;&#x8BD5;&#x7C7B;&#x578B;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment">#1. bulk_insert.lua  &#x6279;&#x91CF;&#x5199;&#x5165;&#x64CD;&#x4F5C;</span>
<span class="token comment">#2. oltp_delete.lua &#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;&#x64CD;&#x4F5C;</span>
<span class="token comment">#3. oltp_insert.lua  &#x7EAF;&#x5199;&#x5165;&#x64CD;&#x4F5C;</span>
<span class="token comment">#4. oltp_point_select.lua  &#x53EA;&#x8BFB;&#x64CD;&#x4F5C;&#xFF0C;&#x6761;&#x4EF6;&#x4E3A;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x5217;</span>
<span class="token comment">#5. oltp_read_only.lua  &#x53EA;&#x8BFB;&#x64CD;&#x4F5C;&#xFF0C;&#x5305;&#x542B;&#x805A;&#x5408;&#xFF0C;&#x53BB;&#x91CD;&#x7B49;&#x64CD;&#x4F5C; &#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x7528;&#x4E8E;&#x7EDF;&#x8BA1;&#x7684;&#x538B;&#x6D4B;</span>
<span class="token comment">#6. oltp_read_write.lua &#x8BFB;&#x5199;&#x6DF7;&#x5408;&#x64CD;&#x4F5C;&#xFF0C;&#x6700;&#x5E38;&#x7528;&#x7684;&#x811A;&#x672C;  &#x7528;&#x4E8E;oltp&#x7CFB;&#x7EDF;&#x7684;&#x538B;&#x6D4B;&#x3002;</span>
<span class="token comment">#7. oltp_update_index.lua &#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#xFF0C;&#x901A;&#x8FC7;&#x4E3B;&#x952E;&#x8FDB;&#x884C;&#x66F4;&#x65B0;</span>
<span class="token comment">#8. oltp_update_non_index.lua &#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x5217;</span>
<span class="token comment">#9. oltp_write_only.lua &#x7EAF;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x5E38;&#x7528;&#x811A;&#x672C;&#xFF0C;&#x5305;&#x62EC;insert update delete</span>
<span class="token comment">#10. select_random_points.lua &#x968F;&#x673A;&#x96C6;&#x5408;&#x53EA;&#x8BFB;&#x64CD;&#x4F5C;&#xFF0C;&#x5E38;&#x7528;&#x811A;&#x672C;&#xFF0C;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x5217;&#x7684;selete in&#x64CD;&#x4F5C;</span>
<span class="token comment">#11. select_random_ranges.lua &#x968F;&#x673A;&#x8303;&#x56F4;&#x53EA;&#x8BFB;&#x64CD;&#x4F5C;&#xFF0C;&#x5E38;&#x7528;&#x811A;&#x672C;&#xFF0C;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x5217;&#x7684;selete between&#x64CD;&#x4F5C;</span>
</code></pre>
<h5 id="select-&#x6D4B;&#x8BD5;"><a name="select-&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#select-&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>SELECT &#x6D4B;&#x8BD5;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># selct&#x6D4B;&#x8BD5; 8&#x7EBF;&#x7A0B;,&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=8/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token comment"># &#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x5982;&#x4E0B;</span>
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">3911.12</span> qps: <span class="token number">3911.12</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">3911.12</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">6.09</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">6136.49</span> qps: <span class="token number">6136.49</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6136.49</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">3.62</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">6236.03</span> qps: <span class="token number">6236.03</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6236.03</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">3.68</span> 
SQL statistics:
    queries performed:
        read:                            <span class="token number">3908017</span>
        write:                           <span class="token number">0</span>
        other:                           <span class="token number">0</span>
        total:                           <span class="token number">3908017</span>
    transactions:                        <span class="token number">3908017</span> <span class="token punctuation">(</span><span class="token number">6512.09</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">3908017</span> <span class="token punctuation">(</span><span class="token number">6512.09</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1155s
    total number of events:              <span class="token number">3908017</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.16</span>
         avg:                                    <span class="token number">1.23</span>
         max:                                  <span class="token number">630.21</span>
         95th percentile:                        <span class="token number">3.30</span>
         sum:                              <span class="token number">4796344.69</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">488502.1250</span>/1422.83
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.5431</span>/0.05
<span class="token comment"># selct&#x6D4B;&#x8BD5; 16&#x7EBF;&#x7A0B;,&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=16/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">11403.36</span> qps: <span class="token number">11403.36</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">11403.36</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">4.49</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">12498.39</span> qps: <span class="token number">12498.39</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">12498.39</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">3.68</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">11772.82</span> qps: <span class="token number">11772.82</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">11772.82</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">4.25</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">10885.84</span> qps: <span class="token number">10885.84</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">10885.84</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">5.00</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">9687.64</span> qps: <span class="token number">9687.64</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">9687.64</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">5.57</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">6845695</span>
        write:                           <span class="token number">0</span>
        other:                           <span class="token number">0</span>
        total:                           <span class="token number">6845695</span>
    transactions:                        <span class="token number">6845695</span> <span class="token punctuation">(</span><span class="token number">11408.77</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">6845695</span> <span class="token punctuation">(</span><span class="token number">11408.77</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0364s
    total number of events:              <span class="token number">6845695</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.18</span>
         avg:                                    <span class="token number">1.40</span>
         max:                                 <span class="token number">1114.67</span>
         95th percentile:                        <span class="token number">4.10</span>
         sum:                              <span class="token number">9593800.55</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">427855.9375</span>/1035.31
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.6125</span>/0.01
<span class="token comment"># selct&#x6D4B;&#x8BD5; 32&#x7EBF;&#x7A0B;,&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=32/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">10895.10</span> qps: <span class="token number">10895.10</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">10895.10</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">8.28</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">15195.12</span> qps: <span class="token number">15195.12</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">15195.12</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">6.32</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">20718.77</span> qps: <span class="token number">20718.77</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">20718.77</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">4.49</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">20349.07</span> qps: <span class="token number">20349.07</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">20349.07</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">4.18</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">20807.25</span> qps: <span class="token number">20807.25</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">20807.25</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">4.57</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">22122.78</span> qps: <span class="token number">22122.78</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">22122.78</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">4.49</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">10320806</span>
        write:                           <span class="token number">0</span>
        other:                           <span class="token number">0</span>
        total:                           <span class="token number">10320806</span>
    transactions:                        <span class="token number">10320806</span> <span class="token punctuation">(</span><span class="token number">17198.11</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">10320806</span> <span class="token punctuation">(</span><span class="token number">17198.11</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1112s
    total number of events:              <span class="token number">10320806</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.16</span>
         avg:                                    <span class="token number">1.86</span>
         max:                                 <span class="token number">1632.43</span>
         95th percentile:                        <span class="token number">5.67</span>
         sum:                             <span class="token number">19192033.79</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">322525.1875</span>/1060.65
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.7511</span>/0.00
<span class="token comment"># selct&#x6D4B;&#x8BD5; 64&#x7EBF;&#x7A0B;,&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=64/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">6306.33</span> qps: <span class="token number">6306.33</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6306.33</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">30.26</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">18739.97</span> qps: <span class="token number">18739.97</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">18739.97</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">9.06</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">20780.49</span> qps: <span class="token number">20780.49</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">20780.49</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">8.28</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">19896.00</span> qps: <span class="token number">19896.00</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">19896.00</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">9.91</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">17163.66</span> qps: <span class="token number">17163.66</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">17163.66</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">11.04</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">22208.62</span> qps: <span class="token number">22208.62</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">22208.62</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">8.43</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">12871444</span>
        write:                           <span class="token number">0</span>
        other:                           <span class="token number">0</span>
        total:                           <span class="token number">12871444</span>
    transactions:                        <span class="token number">12871444</span> <span class="token punctuation">(</span><span class="token number">21451.15</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">12871444</span> <span class="token punctuation">(</span><span class="token number">21451.15</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0336s
    total number of events:              <span class="token number">12871444</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.16</span>
         avg:                                    <span class="token number">2.98</span>
         max:                                 <span class="token number">1493.53</span>
         95th percentile:                        <span class="token number">8.43</span>
         sum:                             <span class="token number">38391016.53</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">201116.3125</span>/503.93
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.8596</span>/0.00
<span class="token comment"># selct&#x6D4B;&#x8BD5; 128&#x7EBF;&#x7A0B;,&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=128/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">23254.21</span> qps: <span class="token number">23254.21</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">23254.21</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">16.12</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">24602.03</span> qps: <span class="token number">24602.03</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">24602.03</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.22</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">27695.07</span> qps: <span class="token number">27695.07</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">27695.07</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.46</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">26395.86</span> qps: <span class="token number">26395.86</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">26395.86</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.98</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">28633.02</span> qps: <span class="token number">28633.02</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">28633.02</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.75</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">28279.46</span> qps: <span class="token number">28279.46</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">28279.46</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.98</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">15867653</span>
        write:                           <span class="token number">0</span>
        other:                           <span class="token number">0</span>
        total:                           <span class="token number">15867653</span>
    transactions:                        <span class="token number">15867653</span> <span class="token punctuation">(</span><span class="token number">26426.46</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">15867653</span> <span class="token punctuation">(</span><span class="token number">26426.46</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.4442s
    total number of events:              <span class="token number">15867653</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.16</span>
         avg:                                    <span class="token number">4.84</span>
         max:                                 <span class="token number">1295.69</span>
         95th percentile:                       <span class="token number">13.46</span>
         sum:                             <span class="token number">76797738.06</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">123966.0391</span>/421.67
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9823</span>/0.08
<span class="token comment"># selct&#x6D4B;&#x8BD5; 256&#x7EBF;&#x7A0B;,&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=256/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_point_select <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">3956.05</span> qps: <span class="token number">3956.05</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">3956.05</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">244.38</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">10995.73</span> qps: <span class="token number">10995.73</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">10995.73</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">75.82</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">15475.90</span> qps: <span class="token number">15475.90</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">15475.90</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">55.82</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">14701.82</span> qps: <span class="token number">14701.82</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">14701.82</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">59.99</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">12388.89</span> qps: <span class="token number">12388.89</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">12388.89</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">89.16</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">25637.06</span> qps: <span class="token number">25637.06</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">25637.06</span>/0.00/0.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">25.28</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">15188519</span>
        write:                           <span class="token number">0</span>
        other:                           <span class="token number">0</span>
        total:                           <span class="token number">15188519</span>
    transactions:                        <span class="token number">15188519</span> <span class="token punctuation">(</span><span class="token number">25311.42</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">15188519</span> <span class="token punctuation">(</span><span class="token number">25311.42</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0643s
    total number of events:              <span class="token number">15188519</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.16</span>
         avg:                                   <span class="token number">10.11</span>
         max:                                 <span class="token number">2198.00</span>
         95th percentile:                       <span class="token number">27.17</span>
         sum:                            <span class="token number">153591443.49</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">59330.1523</span>/254.59
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9666</span>/0.02

<span class="token comment"># &#x53EA;&#x8BFB;&#x6D4B;&#x8BD5;</span>
sysbench --config-file<span class="token operator">=</span>config oltp_read_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
</code></pre>
<h5 id="update-&#x4E3B;&#x952E;&#x66F4;&#x65B0;&#x6D4B;&#x8BD5;"><a name="update-&#x4E3B;&#x952E;&#x66F4;&#x65B0;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#update-&#x4E3B;&#x952E;&#x66F4;&#x65B0;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>UPDATE &#x4E3B;&#x952E;&#x66F4;&#x65B0;&#x6D4B;&#x8BD5;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># update index 8&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=8/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">105.97</span> qps: <span class="token number">105.97</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/104.87/1.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">257.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">185.20</span> qps: <span class="token number">185.20</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/183.00/2.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">80.03</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">171.99</span> qps: <span class="token number">171.99</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/170.69/1.30<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">92.42</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">219.92</span> qps: <span class="token number">219.92</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/217.82/2.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">80.03</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">293.50</span> qps: <span class="token number">293.50</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/289.90/3.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">42.61</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">358.60</span> qps: <span class="token number">358.60</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/355.40/3.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">36.24</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">150714</span>
        other:                           <span class="token number">1363</span>
        total:                           <span class="token number">152077</span>
    transactions:                        <span class="token number">152077</span> <span class="token punctuation">(</span><span class="token number">253.45</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">152077</span> <span class="token punctuation">(</span><span class="token number">253.45</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0337s
    total number of events:              <span class="token number">152077</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.45</span>
         avg:                                   <span class="token number">31.56</span>
         max:                                 <span class="token number">2484.02</span>
         95th percentile:                       <span class="token number">62.19</span>
         sum:                              <span class="token number">4799864.38</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">19009.6250</span>/71.48
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9830</span>/0.01

<span class="token comment"># update index 16&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=16/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">286.55</span> qps: <span class="token number">286.55</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/284.45/2.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">144.97</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">374.59</span> qps: <span class="token number">374.59</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/371.19/3.40<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">78.60</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">325.80</span> qps: <span class="token number">325.80</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/321.50/4.30<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">101.13</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">223.41</span> qps: <span class="token number">223.41</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/221.51/1.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">287.38</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">372.00</span> qps: <span class="token number">372.00</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/368.10/3.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">65.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">435.20</span> qps: <span class="token number">435.20</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/432.20/3.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">65.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">273213</span>
        other:                           <span class="token number">2444</span>
        total:                           <span class="token number">275657</span>
    transactions:                        <span class="token number">275657</span> <span class="token punctuation">(</span><span class="token number">459.40</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">275657</span> <span class="token punctuation">(</span><span class="token number">459.40</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0415s
    total number of events:              <span class="token number">275657</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.42</span>
         avg:                                   <span class="token number">34.83</span>
         max:                                 <span class="token number">2363.14</span>
         95th percentile:                       <span class="token number">75.82</span>
         sum:                              <span class="token number">9599848.16</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">17228.5625</span>/61.31
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9905</span>/0.01

<span class="token comment"># update index 16&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=32/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">640.93</span> qps: <span class="token number">640.93</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/635.83/5.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">80.03</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">637.31</span> qps: <span class="token number">637.31</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/631.81/5.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">94.10</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">825.59</span> qps: <span class="token number">825.59</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/818.39/7.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">66.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">677.69</span> qps: <span class="token number">677.69</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/671.79/5.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">95.81</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">986.00</span> qps: <span class="token number">986.00</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/976.30/9.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">64.47</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">1095.82</span> qps: <span class="token number">1095.82</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1085.52/10.30<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">52.89</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">674705</span>
        other:                           <span class="token number">6017</span>
        total:                           <span class="token number">680722</span>
    transactions:                        <span class="token number">680722</span> <span class="token punctuation">(</span><span class="token number">1134.22</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">680722</span> <span class="token punctuation">(</span><span class="token number">1134.22</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1651s
    total number of events:              <span class="token number">680722</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.38</span>
         avg:                                   <span class="token number">28.21</span>
         max:                                 <span class="token number">1179.24</span>
         95th percentile:                       <span class="token number">53.85</span>
         sum:                             <span class="token number">19201507.50</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">21272.5625</span>/57.52
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0471</span>/0.04
<span class="token comment"># update index 64&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=64/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">2180.69</span> qps: <span class="token number">2180.69</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2158.20/22.49<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">47.47</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1979.82</span> qps: <span class="token number">1979.82</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1960.52/19.30<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">52.89</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1898.09</span> qps: <span class="token number">1898.09</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1882.09/16.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">65.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1968.12</span> qps: <span class="token number">1968.12</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1951.42/16.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">50.11</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">2244.30</span> qps: <span class="token number">2244.30</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2224.10/20.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">44.17</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1448.81</span> qps: <span class="token number">1448.81</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1436.21/12.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">118.92</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1145001</span>
        other:                           <span class="token number">10176</span>
        total:                           <span class="token number">1155177</span>
    transactions:                        <span class="token number">1155177</span> <span class="token punctuation">(</span><span class="token number">1925.14</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">1155177</span> <span class="token punctuation">(</span><span class="token number">1925.14</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0474s
    total number of events:              <span class="token number">1155177</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.45</span>
         avg:                                   <span class="token number">33.24</span>
         max:                                 <span class="token number">2247.91</span>
         95th percentile:                       <span class="token number">56.84</span>
         sum:                             <span class="token number">38399975.13</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">18049.6406</span>/49.49
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9996</span>/0.01
<span class="token comment"># update index 128&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=128/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">2940.58</span> qps: <span class="token number">2940.58</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2915.20/25.38<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">87.56</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">2761.92</span> qps: <span class="token number">2761.92</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2737.02/24.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">80.03</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">2847.77</span> qps: <span class="token number">2847.77</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2823.67/24.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">84.47</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">2562.89</span> qps: <span class="token number">2562.89</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2539.79/23.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">74.46</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">2779.34</span> qps: <span class="token number">2779.34</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2754.14/25.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">101.13</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">3990.12</span> qps: <span class="token number">3990.12</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3952.02/38.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">59.99</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">2381625</span>
        other:                           <span class="token number">21414</span>
        total:                           <span class="token number">2403039</span>
    transactions:                        <span class="token number">2403039</span> <span class="token punctuation">(</span><span class="token number">4004.38</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">2403039</span> <span class="token punctuation">(</span><span class="token number">4004.38</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1009s
    total number of events:              <span class="token number">2403039</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.44</span>
         avg:                                   <span class="token number">31.96</span>
         max:                                 <span class="token number">2111.37</span>
         95th percentile:                       <span class="token number">58.92</span>
         sum:                             <span class="token number">76804828.46</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">18773.7422</span>/47.75
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0377</span>/0.02
<span class="token comment"># update index 256&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=256/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">3950.63</span> qps: <span class="token number">3950.63</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3916.67/33.95<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">142.39</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">3807.87</span> qps: <span class="token number">3807.87</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3775.37/32.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">134.90</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">4390.40</span> qps: <span class="token number">4390.40</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4348.90/41.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">112.67</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">4877.34</span> qps: <span class="token number">4877.34</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4833.34/44.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">106.75</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">5416.16</span> qps: <span class="token number">5416.16</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5371.16/45.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">94.10</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">5808.93</span> qps: <span class="token number">5808.93</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5759.15/49.77<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">81.48</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">3129355</span>
        other:                           <span class="token number">27823</span>
        total:                           <span class="token number">3157178</span>
    transactions:                        <span class="token number">3157178</span> <span class="token punctuation">(</span><span class="token number">5258.48</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">3157178</span> <span class="token punctuation">(</span><span class="token number">5258.48</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.3958s
    total number of events:              <span class="token number">3157178</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.44</span>
         avg:                                   <span class="token number">48.67</span>
         max:                                 <span class="token number">2368.23</span>
         95th percentile:                       <span class="token number">97.55</span>
         sum:                            <span class="token number">153649411.42</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">12332.7266</span>/50.73
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.1930</span>/0.11
</code></pre>
<h5 id="&#x8BFB;&#x5199;&#x6DF7;&#x5408;&#x6D4B;&#x8BD5;"><a name="&#x8BFB;&#x5199;&#x6DF7;&#x5408;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x8BFB;&#x5199;&#x6DF7;&#x5408;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BFB;&#x5199;&#x6DF7;&#x5408;&#x6D4B;&#x8BD5;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># select insert 8&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=8/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_read_write <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">172.47</span> qps: <span class="token number">3460.48</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">2423.67</span>/685.78/351.04<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">65.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">207.91</span> qps: <span class="token number">4156.23</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">2908.69</span>/825.93/421.61<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">49.21</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">206.40</span> qps: <span class="token number">4132.20</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">2893.50</span>/819.30/419.40<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">50.11</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">216.10</span> qps: <span class="token number">4320.19</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">3024.00</span>/858.60/437.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">47.47</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">215.40</span> qps: <span class="token number">4310.49</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">3017.10</span>/856.80/436.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">47.47</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">213.40</span> qps: <span class="token number">4264.18</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">2985.18</span>/845.50/433.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">48.34</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">1439326</span>
        write:                           <span class="token number">408522</span>
        other:                           <span class="token number">208332</span>
        total:                           <span class="token number">2056180</span>
    transactions:                        <span class="token number">102809</span> <span class="token punctuation">(</span><span class="token number">171.34</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">2056180</span> <span class="token punctuation">(</span><span class="token number">3426.83</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0231s
    total number of events:              <span class="token number">102809</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">20.55</span>
         avg:                                   <span class="token number">46.69</span>
         max:                                 <span class="token number">1381.74</span>
         95th percentile:                       <span class="token number">78.60</span>
         sum:                              <span class="token number">4799764.06</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">12851.1250</span>/18.58
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9705</span>/0.01

<span class="token comment"># select insert 16&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=16/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_read_write <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">169.97</span> qps: <span class="token number">3421.92</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">2398.22</span>/676.66/347.03<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">144.97</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">231.90</span> qps: <span class="token number">4637.37</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">3246.15</span>/921.22/470.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">104.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">311.78</span> qps: <span class="token number">6237.09</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">4366.92</span>/1237.01/633.17<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">65.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">287.50</span> qps: <span class="token number">5753.82</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">4026.51</span>/1145.20/582.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">69.29</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">284.10</span> qps: <span class="token number">5680.37</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">3977.48</span>/1127.59/575.30<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">69.29</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">303.70</span> qps: <span class="token number">6073.10</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">4250.10</span>/1206.90/616.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">68.05</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">2325722</span>
        write:                           <span class="token number">660088</span>
        other:                           <span class="token number">336650</span>
        total:                           <span class="token number">3322460</span>
    transactions:                        <span class="token number">166123</span> <span class="token punctuation">(</span><span class="token number">276.84</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">3322460</span> <span class="token punctuation">(</span><span class="token number">5536.80</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0672s
    total number of events:              <span class="token number">166123</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">24.50</span>
         avg:                                   <span class="token number">57.79</span>
         max:                                 <span class="token number">1233.54</span>
         95th percentile:                       <span class="token number">95.81</span>
         sum:                              <span class="token number">9599917.16</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">10382.6875</span>/22.65
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9948</span>/0.01

<span class="token comment"># select insert 32&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=32/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_read_write <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">444.80</span> qps: <span class="token number">8941.18</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6264.55</span>/1774.02/902.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">95.81</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">447.59</span> qps: <span class="token number">8959.13</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6272.58</span>/1779.86/906.69<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">86.00</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">440.89</span> qps: <span class="token number">8805.90</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6161.66</span>/1752.06/892.18<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">87.56</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">505.40</span> qps: <span class="token number">10106.91</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7073.90</span>/2008.90/1024.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">82.96</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">486.40</span> qps: <span class="token number">9739.97</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6820.75</span>/1934.91/984.31<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">84.47</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">477.10</span> qps: <span class="token number">9532.05</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6671.67</span>/1894.19/966.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">87.56</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">3419850</span>
        write:                           <span class="token number">970844</span>
        other:                           <span class="token number">494806</span>
        total:                           <span class="token number">4885500</span>
    transactions:                        <span class="token number">244275</span> <span class="token punctuation">(</span><span class="token number">407.05</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">4885500</span> <span class="token punctuation">(</span><span class="token number">8141.05</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1055s
    total number of events:              <span class="token number">244275</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">23.04</span>
         avg:                                   <span class="token number">78.60</span>
         max:                                 <span class="token number">1441.26</span>
         95th percentile:                      <span class="token number">121.08</span>
         sum:                             <span class="token number">19200207.50</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">7633.5938</span>/16.54
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0065</span>/0.02
<span class="token comment"># select insert 64&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=64/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_read_write <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">424.39</span> qps: <span class="token number">8593.20</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6026.48</span>/1700.35/866.37<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">253.35</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">451.41</span> qps: <span class="token number">9010.57</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">6308.92</span>/1786.73/914.92<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">193.38</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">417.90</span> qps: <span class="token number">8363.85</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">5852.16</span>/1664.29/847.39<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">272.27</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">539.30</span> qps: <span class="token number">10782.19</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7547.89</span>/2141.50/1092.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">161.51</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">515.10</span> qps: <span class="token number">10305.70</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7214.40</span>/2047.30/1044.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">164.45</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">546.27</span> qps: <span class="token number">10927.74</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7649.00</span>/2174.09/1104.64<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">158.63</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">4306274</span>
        write:                           <span class="token number">1222527</span>
        other:                           <span class="token number">623019</span>
        total:                           <span class="token number">6151820</span>
    transactions:                        <span class="token number">307591</span> <span class="token punctuation">(</span><span class="token number">512.48</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">6151820</span> <span class="token punctuation">(</span><span class="token number">10249.68</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1948s
    total number of events:              <span class="token number">307591</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">26.25</span>
         avg:                                  <span class="token number">124.86</span>
         max:                                 <span class="token number">1593.38</span>
         95th percentile:                      <span class="token number">183.21</span>
         sum:                             <span class="token number">38406426.60</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">4806.1094</span>/14.48
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.1004</span>/0.05

<span class="token comment"># select insert 128&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=128/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_read_write <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">590.39</span> qps: <span class="token number">12021.37</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8442.39</span>/2367.34/1211.63<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">292.60</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">534.41</span> qps: <span class="token number">10671.02</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7462.98</span>/2124.82/1083.21<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">511.33</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">589.19</span> qps: <span class="token number">11736.22</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8211.87</span>/2329.76/1194.58<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">320.17</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">610.91</span> qps: <span class="token number">12240.69</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8574.63</span>/2428.44/1237.62<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">282.25</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">570.00</span> qps: <span class="token number">11418.01</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7991.91</span>/2271.00/1155.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">308.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">543.47</span> qps: <span class="token number">10845.10</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7586.78</span>/2158.68/1099.64<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">404.61</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">4876886</span>
        write:                           <span class="token number">1384663</span>
        other:                           <span class="token number">705431</span>
        total:                           <span class="token number">6966980</span>
    transactions:                        <span class="token number">348349</span> <span class="token punctuation">(</span><span class="token number">580.43</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">6966980</span> <span class="token punctuation">(</span><span class="token number">11608.66</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1523s
    total number of events:              <span class="token number">348349</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">21.36</span>
         avg:                                  <span class="token number">220.50</span>
         max:                                 <span class="token number">1633.75</span>
         95th percentile:                      <span class="token number">325.98</span>
         sum:                             <span class="token number">76810380.95</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">2721.4766</span>/12.10
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0811</span>/0.03

<span class="token comment"># select insert 256&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=256/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_read_write <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">481.34</span> qps: <span class="token number">9985.82</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">7030.71</span>/1956.00/999.11<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">1327.91</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">601.64</span> qps: <span class="token number">11971.39</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8379.42</span>/2375.18/1216.79<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">590.56</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">626.57</span> qps: <span class="token number">12537.25</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8779.05</span>/2488.98/1269.23<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">601.29</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">605.78</span> qps: <span class="token number">12177.38</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8511.77</span>/2438.34/1227.27<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">634.66</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">575.83</span> qps: <span class="token number">11480.88</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8046.78</span>/2268.63/1165.47<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">707.07</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">603.38</span> qps: <span class="token number">12011.43</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">8397.97</span>/2393.81/1219.65<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">612.21</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">5317970</span>
        write:                           <span class="token number">1510266</span>
        other:                           <span class="token number">768864</span>
        total:                           <span class="token number">7597100</span>
    transactions:                        <span class="token number">379855</span> <span class="token punctuation">(</span><span class="token number">632.73</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">7597100</span> <span class="token punctuation">(</span><span class="token number">12654.61</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.3413s
    total number of events:              <span class="token number">379855</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">22.27</span>
         avg:                                  <span class="token number">404.48</span>
         max:                                 <span class="token number">2959.56</span>
         95th percentile:                      <span class="token number">580.02</span>
         sum:                            <span class="token number">153642558.00</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">1483.8086</span>/7.28
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.1662</span>/0.09
</code></pre>
<h5 id="&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x5217;"><a name="&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x5217;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># select insert 8&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=8/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_non_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">1022.25</span> qps: <span class="token number">1022.25</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1013.55/8.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">11.04</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">1022.90</span> qps: <span class="token number">1022.90</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1015.90/7.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">1051.90</span> qps: <span class="token number">1051.90</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1044.10/7.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.27</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">1059.20</span> qps: <span class="token number">1059.20</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1050.70/8.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.46</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">994.00</span> qps: <span class="token number">994.00</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/985.90/8.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.27</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">1067.00</span> qps: <span class="token number">1067.00</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1058.10/8.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.46</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">577971</span>
        other:                           <span class="token number">4621</span>
        total:                           <span class="token number">582592</span>
    transactions:                        <span class="token number">582592</span> <span class="token punctuation">(</span><span class="token number">970.97</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">582592</span> <span class="token punctuation">(</span><span class="token number">970.97</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0085s
    total number of events:              <span class="token number">582592</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.38</span>
         avg:                                    <span class="token number">8.24</span>
         max:                                  <span class="token number">588.56</span>
         95th percentile:                       <span class="token number">12.52</span>
         sum:                              <span class="token number">4799235.71</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">72824.0000</span>/62.01
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9045</span>/0.00

<span class="token comment"># select insert 16&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=16/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_non_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1894.52</span> qps: <span class="token number">1894.52</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1878.92/15.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.30</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1848.30</span> qps: <span class="token number">1848.30</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1833.90/14.40<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">11.45</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1949.59</span> qps: <span class="token number">1949.59</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1933.69/15.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1944.80</span> qps: <span class="token number">1944.80</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1929.80/15.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">10.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1871.71</span> qps: <span class="token number">1871.71</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1857.21/14.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">11.45</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1762.30</span> qps: <span class="token number">1762.30</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1748.40/13.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">11.45</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1080035</span>
        other:                           <span class="token number">8856</span>
        total:                           <span class="token number">1088891</span>
    transactions:                        <span class="token number">1088891</span> <span class="token punctuation">(</span><span class="token number">1814.79</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">1088891</span> <span class="token punctuation">(</span><span class="token number">1814.79</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0077s
    total number of events:              <span class="token number">1088891</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.41</span>
         avg:                                    <span class="token number">8.82</span>
         max:                                  <span class="token number">757.97</span>
         95th percentile:                       <span class="token number">13.22</span>
         sum:                              <span class="token number">9598670.78</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">68055.6875</span>/61.00
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9169</span>/0.00
<span class="token comment"># select insert 32&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=32/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_non_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">3248.33</span> qps: <span class="token number">3248.33</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3224.63/23.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">3178.02</span> qps: <span class="token number">3178.02</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3153.52/24.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.98</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">3405.79</span> qps: <span class="token number">3405.79</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3376.89/28.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.52</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">3367.72</span> qps: <span class="token number">3367.72</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3339.32/28.40<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.52</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">3265.01</span> qps: <span class="token number">3265.01</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3238.41/26.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.22</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">3237.49</span> qps: <span class="token number">3237.49</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3213.79/23.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">12.98</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1957338</span>
        other:                           <span class="token number">15562</span>
        total:                           <span class="token number">1957338</span>
    transactions:                        <span class="token number">1957338</span> <span class="token punctuation">(</span><span class="token number">3262.18</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">1957338</span> <span class="token punctuation">(</span><span class="token number">3262.18</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0078s
    total number of events:              <span class="token number">1957338</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.41</span>
         avg:                                    <span class="token number">9.81</span>
         max:                                  <span class="token number">902.52</span>
         95th percentile:                       <span class="token number">13.46</span>
         sum:                             <span class="token number">19197804.63</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">61166.8125</span>/61.01
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9314</span>/0.00
<span class="token comment"># select insert 64&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=64/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_non_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">5254.99</span> qps: <span class="token number">5254.99</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5212.31/42.68<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">17.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">5625.60</span> qps: <span class="token number">5625.60</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5581.80/43.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">16.12</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">5203.48</span> qps: <span class="token number">5203.48</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5162.28/41.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">19.29</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">3663.77</span> qps: <span class="token number">3663.77</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3633.67/30.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">33.72</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">5478.25</span> qps: <span class="token number">5478.25</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5434.95/43.30<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">20.00</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">5174.52</span> qps: <span class="token number">5174.52</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5129.92/44.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">17.63</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">3042486</span>
        other:                           <span class="token number">24646</span>
        total:                           <span class="token number">3067132</span>
    transactions:                        <span class="token number">3067132</span> <span class="token punctuation">(</span><span class="token number">5111.78</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">3067132</span> <span class="token punctuation">(</span><span class="token number">5111.78</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0115s
    total number of events:              <span class="token number">3067132</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.41</span>
         avg:                                   <span class="token number">12.52</span>
         max:                                 <span class="token number">1070.55</span>
         95th percentile:                       <span class="token number">18.95</span>
         sum:                             <span class="token number">38396613.65</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">47923.9375</span>/58.56
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9471</span>/0.00
<span class="token comment"># select insert 128&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=128/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_non_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">7684.84</span> qps: <span class="token number">7684.84</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/7622.50/62.35<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">27.66</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">7721.65</span> qps: <span class="token number">7721.65</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/7660.55/61.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">27.17</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">8408.18</span> qps: <span class="token number">8408.18</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/8343.68/64.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">25.74</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">7419.08</span> qps: <span class="token number">7419.08</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/7358.58/60.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">31.37</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">5580.22</span> qps: <span class="token number">5580.22</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5537.53/42.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">51.02</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6943.18</span> qps: <span class="token number">6943.18</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/6883.98/59.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">41.10</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">4387663</span>
        other:                           <span class="token number">35553</span>
        total:                           <span class="token number">4423216</span>
    transactions:                        <span class="token number">4423216</span> <span class="token punctuation">(</span><span class="token number">7371.75</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">4423216</span> <span class="token punctuation">(</span><span class="token number">7371.75</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0212s
    total number of events:              <span class="token number">4423216</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.43</span>
         avg:                                   <span class="token number">17.36</span>
         max:                                  <span class="token number">809.63</span>
         95th percentile:                       <span class="token number">32.53</span>
         sum:                             <span class="token number">76796124.53</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">34556.3750</span>/76.45
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9697</span>/0.01
<span class="token comment"># select insert 256&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=256/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_update_non_index <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">10767.47</span> qps: <span class="token number">10767.57</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/10679.60/87.97<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">44.98</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">9622.65</span> qps: <span class="token number">9622.55</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/9538.56/84.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">49.21</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">9375.97</span> qps: <span class="token number">9375.97</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/9301.17/74.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">52.89</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">10087.61</span> qps: <span class="token number">10087.61</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/10003.91/83.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">54.83</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">9808.50</span> qps: <span class="token number">9808.50</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/9731.70/76.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">51.02</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">10201.78</span> qps: <span class="token number">10201.78</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/10119.98/81.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">53.85</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">5666278</span>
        other:                           <span class="token number">45899</span>
        total:                           <span class="token number">5712177</span>
    transactions:                        <span class="token number">5712177</span> <span class="token punctuation">(</span><span class="token number">9519.67</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">5712177</span> <span class="token punctuation">(</span><span class="token number">9519.67</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0379s
    total number of events:              <span class="token number">5712177</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.47</span>
         avg:                                   <span class="token number">26.89</span>
         max:                                 <span class="token number">1339.52</span>
         95th percentile:                       <span class="token number">55.82</span>
         sum:                            <span class="token number">153596923.52</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">22313.1914</span>/73.30
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9880</span>/0.01
</code></pre>
<h5 id="&#x53EA;&#x5199;&#x5165;&#x6D4B;&#x8BD5;"><a name="&#x53EA;&#x5199;&#x5165;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x53EA;&#x5199;&#x5165;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53EA;&#x5199;&#x5165;&#x6D4B;&#x8BD5;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># select insert 8&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=8/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_write_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">383.63</span> qps: <span class="token number">2303.99</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1526.03/777.96<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">26.20</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">362.21</span> qps: <span class="token number">2173.16</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1441.24/731.92<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">27.17</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">394.80</span> qps: <span class="token number">2369.40</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1570.70/798.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">26.20</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">397.40</span> qps: <span class="token number">2384.51</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1579.81/804.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">25.74</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">395.30</span> qps: <span class="token number">2371.51</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1570.11/801.40<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">25.74</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">384.20</span> qps: <span class="token number">2305.99</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1529.09/776.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">26.20</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">710760</span>
        other:                           <span class="token number">361812</span>
        total:                           <span class="token number">1072572</span>
    transactions:                        <span class="token number">178762</span> <span class="token punctuation">(</span><span class="token number">297.90</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">1072572</span> <span class="token punctuation">(</span><span class="token number">1787.37</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0819s
    total number of events:              <span class="token number">178762</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">11.69</span>
         avg:                                   <span class="token number">26.85</span>
         max:                                 <span class="token number">1572.86</span>
         95th percentile:                       <span class="token number">41.85</span>
         sum:                              <span class="token number">4799929.32</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">22345.2500</span>/21.72
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9912</span>/0.02
<span class="token comment"># select insert 16&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=16/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_write_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">576.19</span> qps: <span class="token number">3462.96</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2294.47/1168.48<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">33.72</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">565.92</span> qps: <span class="token number">3394.51</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2248.58/1145.94<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">34.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">554.40</span> qps: <span class="token number">3326.81</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2204.10/1122.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">38.25</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">517.70</span> qps: <span class="token number">3105.10</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2055.60/1049.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">40.37</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">543.60</span> qps: <span class="token number">3264.38</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2163.99/1100.39<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">37.56</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">599.00</span> qps: <span class="token number">3592.12</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2382.41/1209.71<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">36.24</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1056694</span>
        other:                           <span class="token number">537968</span>
        total:                           <span class="token number">1594662</span>
    transactions:                        <span class="token number">265777</span> <span class="token punctuation">(</span><span class="token number">442.93</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">1594662</span> <span class="token punctuation">(</span><span class="token number">2657.57</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0444s
    total number of events:              <span class="token number">265777</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">9.65</span>
         avg:                                   <span class="token number">36.12</span>
         max:                                 <span class="token number">1488.15</span>
         95th percentile:                       <span class="token number">75.82</span>
         sum:                              <span class="token number">9599571.75</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">16611.0625</span>/27.35
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9732</span>/0.01
<span class="token comment"># select insert 32&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=32/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_write_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">859.62</span> qps: <span class="token number">5170.24</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3428.50/1741.74<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">45.79</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">885.10</span> qps: <span class="token number">5307.11</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3514.91/1792.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">45.79</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">799.70</span> qps: <span class="token number">4799.20</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3182.60/1616.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">51.02</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">868.30</span> qps: <span class="token number">5211.60</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3455.90/1755.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">48.34</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">818.26</span> qps: <span class="token number">4908.36</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3254.14/1654.22<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">53.85</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">753.32</span> qps: <span class="token number">4520.79</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2996.16/1524.63<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">56.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1971854</span>
        other:                           <span class="token number">1003240</span>
        total:                           <span class="token number">2975094</span>
    transactions:                        <span class="token number">495849</span> <span class="token punctuation">(</span><span class="token number">826.37</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">2975094</span> <span class="token punctuation">(</span><span class="token number">4958.20</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0342s
    total number of events:              <span class="token number">495849</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">12.46</span>
         avg:                                   <span class="token number">38.72</span>
         max:                                 <span class="token number">1465.32</span>
         95th percentile:                       <span class="token number">61.08</span>
         sum:                             <span class="token number">19199052.08</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">15495.2812</span>/20.61
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9704</span>/0.01
<span class="token comment"># select insert 64&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=64/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_write_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1093.67</span> qps: <span class="token number">6581.09</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4362.47/2218.62<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">81.48</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1178.65</span> qps: <span class="token number">7073.00</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4689.40/2383.60<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">81.48</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1192.91</span> qps: <span class="token number">7155.27</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4743.05/2412.22<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">78.60</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1112.55</span> qps: <span class="token number">6676.09</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4427.20/2248.88<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">97.55</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1235.21</span> qps: <span class="token number">7412.53</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4919.91/2492.62<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">71.83</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">1168.49</span> qps: <span class="token number">7011.36</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4650.08/2361.29<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">75.82</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">2584664</span>
        other:                           <span class="token number">1313014</span>
        total:                           <span class="token number">3897678</span>
    transactions:                        <span class="token number">649613</span> <span class="token punctuation">(</span><span class="token number">1082.59</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">3897678</span> <span class="token punctuation">(</span><span class="token number">6495.57</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0507s
    total number of events:              <span class="token number">649613</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">13.69</span>
         avg:                                   <span class="token number">59.11</span>
         max:                                 <span class="token number">1652.85</span>
         95th percentile:                       <span class="token number">97.55</span>
         sum:                             <span class="token number">38399561.18</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">10150.2031</span>/19.65
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9931</span>/0.01

<span class="token comment"># select insert 128&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=128/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_write_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">1556.63</span> qps: <span class="token number">9380.96</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/6225.83/3155.12<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">123.28</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">1487.15</span> qps: <span class="token number">8921.02</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5918.31/3002.71<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">127.81</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">1570.02</span> qps: <span class="token number">9419.09</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/6244.46/3174.63<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">118.92</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">1491.44</span> qps: <span class="token number">8948.62</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5938.95/3009.67<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">142.39</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">1623.63</span> qps: <span class="token number">9748.36</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/6465.61/3282.75<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">121.08</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">1580.54</span> qps: <span class="token number">9487.24</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/6290.56/3196.69<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">127.81</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">3509747</span>
        other:                           <span class="token number">1781467</span>
        total:                           <span class="token number">5291214</span>
    transactions:                        <span class="token number">881869</span> <span class="token punctuation">(</span><span class="token number">1469.53</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">5291214</span> <span class="token punctuation">(</span><span class="token number">8817.17</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1021s
    total number of events:              <span class="token number">881869</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">14.31</span>
         avg:                                   <span class="token number">87.09</span>
         max:                                 <span class="token number">2300.36</span>
         95th percentile:                      <span class="token number">137.35</span>
         sum:                             <span class="token number">76803193.61</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">6889.6016</span>/17.75
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0250</span>/0.03

<span class="token comment"># select insert 256&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=256/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_write_only <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">1466.07</span> qps: <span class="token number">8894.63</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5909.39/2985.24<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">363.18</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">1367.40</span> qps: <span class="token number">8193.03</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5432.02/2761.01<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">580.02</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">1569.85</span> qps: <span class="token number">9425.41</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/6254.20/3171.20<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">227.40</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">938.90</span> qps: <span class="token number">5636.79</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3741.69/1895.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">877.61</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">1494.38</span> qps: <span class="token number">8950.90</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5931.53/3019.37<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">277.21</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">1281.90</span> qps: <span class="token number">7691.88</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5101.29/2590.59<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">493.24</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">3973855</span>
        other:                           <span class="token number">2015555</span>
        total:                           <span class="token number">5989410</span>
    transactions:                        <span class="token number">998235</span> <span class="token punctuation">(</span><span class="token number">1663.36</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">5989410</span> <span class="token punctuation">(</span><span class="token number">9980.18</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.1287s
    total number of events:              <span class="token number">998235</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                   <span class="token number">14.18</span>
         avg:                                  <span class="token number">153.88</span>
         max:                                 <span class="token number">3163.24</span>
         95th percentile:                      <span class="token number">287.38</span>
         sum:                            <span class="token number">153611743.50</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">3899.3555</span>/16.97
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0459</span>/0.04
</code></pre>
<h5 id="&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;"><a name="&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;" class="anchor-navigation-ex-anchor" href="#&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;</h5>
<pre class="language-"><code class="lang-bash"><span class="token comment"># select insert 8&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=8/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_delete <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">348.04</span> qps: <span class="token number">348.04</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/345.34/2.70<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">38.25</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">544.31</span> qps: <span class="token number">544.31</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/541.51/2.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">23.52</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">716.41</span> qps: <span class="token number">716.41</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/711.31/5.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">17.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">831.29</span> qps: <span class="token number">831.29</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/825.79/5.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">808.50</span> qps: <span class="token number">808.50</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/802.50/6.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.95</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">8</span> tps: <span class="token number">853.80</span> qps: <span class="token number">853.80</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/847.00/6.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">13.70</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">399568</span>
        other:                           <span class="token number">7832</span>
        total:                           <span class="token number">407400</span>
    transactions:                        <span class="token number">407400</span> <span class="token punctuation">(</span><span class="token number">678.99</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">407400</span> <span class="token punctuation">(</span><span class="token number">678.99</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0086s
    total number of events:              <span class="token number">407400</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.42</span>
         avg:                                   <span class="token number">11.78</span>
         max:                                  <span class="token number">613.16</span>
         95th percentile:                       <span class="token number">21.50</span>
         sum:                              <span class="token number">4799469.44</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">50925.0000</span>/81.12
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9337</span>/0.00

<span class="token comment"># select insert 16&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=16/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_delete <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1207.72</span> qps: <span class="token number">1207.72</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1168.83/38.89<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">23.52</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1433.40</span> qps: <span class="token number">1433.40</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1380.60/52.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">15.83</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1440.80</span> qps: <span class="token number">1440.80</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1393.40/47.40<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">15.55</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1304.10</span> qps: <span class="token number">1304.10</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1261.30/42.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">16.12</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1359.79</span> qps: <span class="token number">1359.79</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1312.89/46.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">16.71</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">16</span> tps: <span class="token number">1305.90</span> qps: <span class="token number">1305.90</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1258.40/47.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">17.32</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">706819</span>
        other:                           <span class="token number">40642</span>
        total:                           <span class="token number">747461</span>
    transactions:                        <span class="token number">747461</span> <span class="token punctuation">(</span><span class="token number">1245.71</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">747461</span> <span class="token punctuation">(</span><span class="token number">1245.71</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0255s
    total number of events:              <span class="token number">747461</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.43</span>
         avg:                                   <span class="token number">12.84</span>
         max:                                  <span class="token number">670.51</span>
         95th percentile:                       <span class="token number">26.20</span>
         sum:                              <span class="token number">9599297.16</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">46716.3125</span>/67.97
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9561</span>/0.01

<span class="token comment"># select insert 32&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=32/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_delete <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">1224.24</span> qps: <span class="token number">1224.24</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1130.06/94.18<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">62.19</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">1434.09</span> qps: <span class="token number">1434.09</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1321.99/112.10<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">57.87</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">1347.71</span> qps: <span class="token number">1347.71</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1242.32/105.39<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">59.99</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">1515.80</span> qps: <span class="token number">1515.80</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1389.79/126.01<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">57.87</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">1355.64</span> qps: <span class="token number">1355.64</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/1248.84/106.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">56.84</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">32</span> tps: <span class="token number">2596.62</span> qps: <span class="token number">2596.62</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2384.71/211.91<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">19.29</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1200197</span>
        other:                           <span class="token number">155257</span>
        total:                           <span class="token number">1355454</span>
    transactions:                        <span class="token number">1355454</span> <span class="token punctuation">(</span><span class="token number">2259.03</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">1355454</span> <span class="token punctuation">(</span><span class="token number">2259.03</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0144s
    total number of events:              <span class="token number">1355454</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.40</span>
         avg:                                   <span class="token number">14.16</span>
         max:                                  <span class="token number">994.74</span>
         95th percentile:                       <span class="token number">31.37</span>
         sum:                             <span class="token number">19198477.28</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">42357.9375</span>/92.54
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9524</span>/0.00

<span class="token comment"># select insert 64&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=64/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_delete <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">3905.66</span> qps: <span class="token number">3905.66</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3305.53/600.14<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">26.68</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">4473.34</span> qps: <span class="token number">4473.34</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3772.41/700.93<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">23.10</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">4169.47</span> qps: <span class="token number">4169.47</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3521.56/647.91<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">24.38</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">3177.36</span> qps: <span class="token number">3177.36</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2673.27/504.09<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">50.11</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">4199.14</span> qps: <span class="token number">4199.14</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3525.13/674.01<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">29.19</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">64</span> tps: <span class="token number">3963.50</span> qps: <span class="token number">3963.50</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/3330.60/632.90<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">29.19</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">1899872</span>
        other:                           <span class="token number">501168</span>
        total:                           <span class="token number">2401040</span>
    transactions:                        <span class="token number">2401040</span> <span class="token punctuation">(</span><span class="token number">4001.57</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">2401040</span> <span class="token punctuation">(</span><span class="token number">4001.57</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0238s
    total number of events:              <span class="token number">2401040</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.42</span>
         avg:                                   <span class="token number">15.99</span>
         max:                                 <span class="token number">1186.76</span>
         95th percentile:                       <span class="token number">34.95</span>
         sum:                             <span class="token number">38397943.33</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">37516.2500</span>/103.31
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9679</span>/0.01

<span class="token comment"># select insert 128&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=128/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_delete <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6033.46</span> qps: <span class="token number">6033.46</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4447.60/1585.86<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">38.94</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6400.79</span> qps: <span class="token number">6400.79</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4686.63/1714.16<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">38.25</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6386.65</span> qps: <span class="token number">6386.65</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4668.27/1718.38<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">39.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6619.81</span> qps: <span class="token number">6619.81</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4822.01/1797.80<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">38.94</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6397.74</span> qps: <span class="token number">6397.74</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4629.15/1768.58<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">40.37</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">128</span> tps: <span class="token number">6618.83</span> qps: <span class="token number">6618.83</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4771.96/1846.87<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">39.65</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">2502286</span>
        other:                           <span class="token number">1256654</span>
        total:                           <span class="token number">3758940</span>
    transactions:                        <span class="token number">3758940</span> <span class="token punctuation">(</span><span class="token number">6264.62</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">3758940</span> <span class="token punctuation">(</span><span class="token number">6264.62</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0259s
    total number of events:              <span class="token number">3758940</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.41</span>
         avg:                                   <span class="token number">20.43</span>
         max:                                 <span class="token number">1379.84</span>
         95th percentile:                       <span class="token number">50.11</span>
         sum:                             <span class="token number">76796715.81</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">29366.7188</span>/123.76
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">599.9743</span>/0.01

<span class="token comment"># select insert 256&#x7EBF;&#x7A0B;&#x3000;10&#x5206;&#x949F;</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&apos;s/^threads=.*/threads=256/g&apos;</span> config
sysbench --config-file<span class="token operator">=</span>config oltp_delete <span class="token parameter variable">--tables</span><span class="token operator">=</span><span class="token number">24</span> --table-size<span class="token operator">=</span><span class="token number">50000000</span> run
<span class="token punctuation">[</span> 10s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">4187.74</span> qps: <span class="token number">4187.74</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/2502.24/1685.50<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">231.53</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 20s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">8577.92</span> qps: <span class="token number">8577.92</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5148.07/3429.85<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">73.13</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 30s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">9409.80</span> qps: <span class="token number">9409.80</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5631.80/3778.00<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">71.83</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 40s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">8414.93</span> qps: <span class="token number">8414.93</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/4979.84/3435.09<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">74.46</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 50s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">9383.60</span> qps: <span class="token number">9383.60</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5558.87/3824.73<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">71.83</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
<span class="token punctuation">[</span> 60s <span class="token punctuation">]</span> thds: <span class="token number">256</span> tps: <span class="token number">9210.60</span> qps: <span class="token number">9210.60</span> <span class="token punctuation">(</span>r/w/o: <span class="token number">0.00</span>/5412.52/3798.09<span class="token punctuation">)</span> lat <span class="token punctuation">(</span>ms,95%<span class="token punctuation">)</span>: <span class="token number">74.46</span> err/s: <span class="token number">0.00</span> reconn/s: <span class="token number">0.00</span>
SQL statistics:
    queries performed:
        read:                            <span class="token number">0</span>
        write:                           <span class="token number">2847913</span>
        other:                           <span class="token number">2531947</span>
        total:                           <span class="token number">5379860</span>
    transactions:                        <span class="token number">5379860</span> <span class="token punctuation">(</span><span class="token number">8965.40</span> per sec.<span class="token punctuation">)</span>
    queries:                             <span class="token number">5379860</span> <span class="token punctuation">(</span><span class="token number">8965.40</span> per sec.<span class="token punctuation">)</span>
    ignored errors:                      <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>
    reconnects:                          <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">0.00</span> per sec.<span class="token punctuation">)</span>

General statistics:
    total time:                          <span class="token number">600</span>.0677s
    total number of events:              <span class="token number">5379860</span>

Latency <span class="token punctuation">(</span>ms<span class="token punctuation">)</span>:
         min:                                    <span class="token number">0.40</span>
         avg:                                   <span class="token number">28.55</span>
         max:                                 <span class="token number">1388.04</span>
         95th percentile:                       <span class="token number">81.48</span>
         sum:                            <span class="token number">153602514.04</span>

Threads fairness:
    events <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:           <span class="token number">21015.0781</span>/128.10
    execution <span class="token function">time</span> <span class="token punctuation">(</span>avg/stddev<span class="token punctuation">)</span>:   <span class="token number">600.0098</span>/0.02
</code></pre>
<h4 id="&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;"><a name="&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;" class="anchor-navigation-ex-anchor" href="#&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;</h4>
<h5 id="&#x4E3B;&#x952E;&#x67E5;&#x8BE2;"><a name="&#x4E3B;&#x952E;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#&#x4E3B;&#x952E;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E3B;&#x952E;&#x67E5;&#x8BE2;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>QPS</th>
<th>&#x67E5;&#x8BE2;&#x603B;&#x6570;</th>
<th>TPS</th>
<th>&#x4E8B;&#x7269;&#x603B;&#x6570;</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>6512.09</td>
<td>3908017</td>
<td>6512.09</td>
<td>3908017</td>
<td>3.30</td>
</tr>
<tr>
<td>16</td>
<td>11408.77</td>
<td>6845695</td>
<td>11408.77</td>
<td>6845695</td>
<td>4.10</td>
</tr>
<tr>
<td>32</td>
<td>17198.11</td>
<td>10320806</td>
<td>17198.11</td>
<td>10320806</td>
<td>5.67</td>
</tr>
<tr>
<td>64</td>
<td>21451.15</td>
<td>12871444</td>
<td>21451.15</td>
<td>12871444</td>
<td>8.43</td>
</tr>
<tr>
<td>128</td>
<td>26426.46</td>
<td>15867653</td>
<td>26426.46</td>
<td>15867653</td>
<td>13.46</td>
</tr>
<tr>
<td>256</td>
<td>25311.42</td>
<td>15188519</td>
<td>25311.42</td>
<td>15188519</td>
<td>27.17</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/tidb-select&#x6D4B;&#x8BD5;.jpg" alt=""></p>
<h5 id="&#x4E3B;&#x952E;&#x66F4;&#x65B0;"><a name="&#x4E3B;&#x952E;&#x66F4;&#x65B0;" class="anchor-navigation-ex-anchor" href="#&#x4E3B;&#x952E;&#x66F4;&#x65B0;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E3B;&#x952E;&#x66F4;&#x65B0;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>QPS</th>
<th>&#x67E5;&#x8BE2;&#x603B;&#x6570;</th>
<th>TPS</th>
<th>&#x4E8B;&#x7269;&#x603B;&#x6570;</th>
<th>&#x5199;&#x5165;&#x6570;</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>253.45</td>
<td>152077</td>
<td>253.45</td>
<td>152077</td>
<td>150714</td>
<td>62.19</td>
</tr>
<tr>
<td>16</td>
<td>459.40</td>
<td>275657</td>
<td>459.40</td>
<td>275657</td>
<td>273213</td>
<td>75.82</td>
</tr>
<tr>
<td>32</td>
<td>1134.22</td>
<td>680722</td>
<td>1134.22</td>
<td>680722</td>
<td>674705</td>
<td>53.85</td>
</tr>
<tr>
<td>64</td>
<td>1925.14</td>
<td>1155177</td>
<td>1925.14</td>
<td>1155177</td>
<td>1145001</td>
<td>56.84</td>
</tr>
<tr>
<td>128</td>
<td>4004.38</td>
<td>2403039</td>
<td>4004.38</td>
<td>2403039</td>
<td>2381625</td>
<td>58.92</td>
</tr>
<tr>
<td>256</td>
<td>5258.48</td>
<td>3157178</td>
<td>5258.48</td>
<td>3157178</td>
<td>3129355</td>
<td>97.55</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/tidb-&#x4E3B;&#x952E;&#x66F4;&#x65B0;.jpg" alt=""></p>
<h5 id="&#x8BFB;&#x5199;&#x6DF7;&#x5408;"><a name="&#x8BFB;&#x5199;&#x6DF7;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x8BFB;&#x5199;&#x6DF7;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BFB;&#x5199;&#x6DF7;&#x5408;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>QPS</th>
<th>&#x67E5;&#x8BE2;&#x603B;&#x6570;</th>
<th>TPS</th>
<th>&#x4E8B;&#x7269;&#x603B;&#x6570;</th>
<th>&#x8BFB;&#x5165;&#x6570;</th>
<th>&#x5199;&#x5165;&#x6570;</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>3426.83</td>
<td>2056180</td>
<td>171.34</td>
<td>102809</td>
<td>1439326</td>
<td>408522</td>
<td>78.60</td>
</tr>
<tr>
<td>16</td>
<td>5536.80</td>
<td>3322460</td>
<td>276.84</td>
<td>166123</td>
<td>2325722</td>
<td>660088</td>
<td>95.81</td>
</tr>
<tr>
<td>32</td>
<td>8141.05</td>
<td>4885500</td>
<td>407.05</td>
<td>244275</td>
<td>3419850</td>
<td>970844</td>
<td>121.08</td>
</tr>
<tr>
<td>64</td>
<td>10249.68</td>
<td>6151820</td>
<td>512.48</td>
<td>307591</td>
<td>4306274</td>
<td>1222527</td>
<td>183.21</td>
</tr>
<tr>
<td>128</td>
<td>11608.66</td>
<td>6966980</td>
<td>580.43</td>
<td>348349</td>
<td>4876886</td>
<td>1384663</td>
<td>325.98</td>
</tr>
<tr>
<td>256</td>
<td>12654.61</td>
<td>7597100</td>
<td>632.73</td>
<td>379855</td>
<td>5317970</td>
<td>1510266</td>
<td>580.02</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/tidb-&#x8BFB;&#x5199;&#x6DF7;&#x5408;.jpg" alt=""></p>
<h5 id="&#x66F4;&#x65B0;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;"><a name="&#x66F4;&#x65B0;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66F4;&#x65B0;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>QPS</th>
<th>&#x67E5;&#x8BE2;&#x603B;&#x6570;</th>
<th>TPS</th>
<th>&#x4E8B;&#x7269;&#x603B;&#x6570;</th>
<th>&#x5199;&#x5165;&#x6570;</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>970.97</td>
<td>582592</td>
<td>970.97</td>
<td>582592</td>
<td>577971</td>
<td>12.52</td>
</tr>
<tr>
<td>16</td>
<td>1814.79</td>
<td>1088891</td>
<td>1814.79</td>
<td>1088891</td>
<td>1080035</td>
<td>13.22</td>
</tr>
<tr>
<td>32</td>
<td>3262.18</td>
<td>1957338</td>
<td>3262.18</td>
<td>1957338</td>
<td>1957338</td>
<td>13.46</td>
</tr>
<tr>
<td>64</td>
<td>5111.78</td>
<td>3067132</td>
<td>5111.78</td>
<td>3067132</td>
<td>3042486</td>
<td>18.95</td>
</tr>
<tr>
<td>128</td>
<td>7371.75</td>
<td>4423216</td>
<td>7371.75</td>
<td>4423216</td>
<td>4387663</td>
<td>32.53</td>
</tr>
<tr>
<td>256</td>
<td>9519.67</td>
<td>5712177</td>
<td>9519.67</td>
<td>5712177</td>
<td>5666278</td>
<td>55.82</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/tidb-&#x66F4;&#x65B0;&#x4E0D;&#x901A;&#x8FC7;&#x7D22;&#x5F15;.jpg" alt=""></p>
<h5 id="&#x53EA;&#x5199;&#x5165;"><a name="&#x53EA;&#x5199;&#x5165;" class="anchor-navigation-ex-anchor" href="#&#x53EA;&#x5199;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53EA;&#x5199;&#x5165;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>QPS</th>
<th>&#x67E5;&#x8BE2;&#x603B;&#x6570;</th>
<th>TPS</th>
<th>&#x4E8B;&#x7269;&#x603B;&#x6570;</th>
<th>&#x5199;&#x5165;&#x6570;</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>1787.37</td>
<td>1072572</td>
<td>297.90</td>
<td>178762</td>
<td>710760</td>
<td>41.85</td>
</tr>
<tr>
<td>16</td>
<td>2657.57</td>
<td>1594662</td>
<td>442.93</td>
<td>265777</td>
<td>1056694</td>
<td>75.82</td>
</tr>
<tr>
<td>32</td>
<td>4958.20</td>
<td>2975094</td>
<td>826.37</td>
<td>495849</td>
<td>1971854</td>
<td>61.08</td>
</tr>
<tr>
<td>64</td>
<td>6495.57</td>
<td>3897678</td>
<td>1082.59</td>
<td>649613</td>
<td>2584664</td>
<td>97.55</td>
</tr>
<tr>
<td>128</td>
<td>8817.17</td>
<td>5291214</td>
<td>1469.53</td>
<td>881869</td>
<td>3509747</td>
<td>137.35</td>
</tr>
<tr>
<td>256</td>
<td>9980.18</td>
<td>5989410</td>
<td>1663.36</td>
<td>998235</td>
<td>3973855</td>
<td>287.38</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/tidb-&#x53EA;&#x5199;&#x5165;.jpg" alt=""></p>
<h5 id="&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;_1"><a name="&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;_1" class="anchor-navigation-ex-anchor" href="#&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;_1"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>QPS</th>
<th>&#x67E5;&#x8BE2;&#x603B;&#x6570;</th>
<th>TPS</th>
<th>&#x4E8B;&#x7269;&#x603B;&#x6570;</th>
<th>&#x5199;&#x5165;&#x6570;</th>
<th>95% latency (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>678.99</td>
<td>407400</td>
<td>678.99</td>
<td>407400</td>
<td>399568</td>
<td>21.50</td>
</tr>
<tr>
<td>16</td>
<td>1245.71</td>
<td>747461</td>
<td>1245.71</td>
<td>747461</td>
<td>706819</td>
<td>26.2</td>
</tr>
<tr>
<td>32</td>
<td>2259.03</td>
<td>1355454</td>
<td>2259.03</td>
<td>1355454</td>
<td>1200197</td>
<td>31.37</td>
</tr>
<tr>
<td>64</td>
<td>4001.57</td>
<td>2401040</td>
<td>4001.57</td>
<td>2401040</td>
<td>1899872</td>
<td>34.95</td>
</tr>
<tr>
<td>128</td>
<td>6264.62</td>
<td>3758940</td>
<td>6264.62</td>
<td>3758940</td>
<td>2502286</td>
<td>50.11</td>
</tr>
<tr>
<td>256</td>
<td>8965.40</td>
<td>5379860</td>
<td>8965.40</td>
<td>5379860</td>
<td>2847913</td>
<td>81.48</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/tidb-&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x5B58;.jpg" alt=""></p>
<h5 id="&#x524D;95&#x6BEB;&#x79D2;&#x6570;"><a name="&#x524D;95&#x6BEB;&#x79D2;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x524D;95&#x6BEB;&#x79D2;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x524D;95%&#x6BEB;&#x79D2;&#x6570;</h5>
<table>
<thead>
<tr>
<th>&#x7EBF;&#x7A0B;</th>
<th>&#x4E3B;&#x952E;&#x67E5;&#x8BE2;</th>
<th>&#x4E3B;&#x952E;&#x66F4;&#x65B0;</th>
<th>&#x8BFB;&#x5199;&#x6DF7;&#x5408;</th>
<th>&#x66F4;&#x65B0;&#x975E;&#x7D22;&#x5F15;</th>
<th>&#x53EA;&#x5199;&#x5165;</th>
<th>&#x5199;&#x5165;&#x548C;&#x5220;&#x9664;&#x5E76;&#x884C;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#xFF18;</td>
<td>3.30</td>
<td>62.19</td>
<td>78.60</td>
<td>12.52</td>
<td>41.85</td>
<td>21.50</td>
</tr>
<tr>
<td>16</td>
<td>4.10</td>
<td>75.82</td>
<td>95.81</td>
<td>13.22</td>
<td>75.82</td>
<td>26.2</td>
</tr>
<tr>
<td>32</td>
<td>5.67</td>
<td>53.85</td>
<td>121.08</td>
<td>13.46</td>
<td>61.08</td>
<td>31.37</td>
</tr>
<tr>
<td>64</td>
<td>8.43</td>
<td>56.84</td>
<td>183.21</td>
<td>18.95</td>
<td>97.55</td>
<td>34.95</td>
</tr>
<tr>
<td>128</td>
<td>13.46</td>
<td>58.92</td>
<td>325.98</td>
<td>32.53</td>
<td>137.35</td>
<td>50.11</td>
</tr>
<tr>
<td>256</td>
<td>27.17</td>
<td>97.55</td>
<td>580.02</td>
<td>55.82</td>
<td>287.38</td>
<td>81.48</td>
</tr>
</tbody>
</table>
<p><img src="../static/image-tidb/&#x524D;95&#x6BEB;&#x79D2;&#x6570;.jpg" alt=""></p>
<footer class="page-footer-ex"> <span class="page-footer-ex-copyright"> Copyright &amp; copy lviter@163.com </span> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="page-footer-ex-footer-update"> <i>updated</i> 2024-08-01 09:49:44 </span> </footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="OAuth2.0授权登录调研.html" class="navigation navigation-prev " aria-label="Previous page: OAuth2.0授权登录调研">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="延迟队列解决方案.html" class="navigation navigation-next " aria-label="Next page: 延迟队列解决方案">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"TiDB性能测试","level":"1.12.11","depth":2,"next":{"title":"延迟队列解决方案","level":"1.12.12","depth":2,"path":"解决方案/延迟队列解决方案.md","ref":"解决方案/延迟队列解决方案.md","articles":[]},"previous":{"title":"OAuth2.0授权登录调研","level":"1.12.10","depth":2,"path":"解决方案/OAuth2.0授权登录调研.md","ref":"解决方案/OAuth2.0授权登录调研.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters","copy-code-button","page-footer-ex","anchor-navigation-ex","expandable-chapters-small","prism","-highlight","-lunr","-search","theme-comscore","search-pro","splitter","back-to-top-button","advanced-emoji","pageview-count","-sharing","sharing-plus","insert-logo"],"ignores":["_book","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"],"lang":{"flow":"typescript"}},"page-footer-ex":{"copyright":"Copyright & copy lviter@163.com","markdown":true,"update_format":"YYYY-MM-DD HH:mm:ss","update_label":"<i>updated</i>"},"splitter":{},"search-pro":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"theme-comscore":{},"back-to-top-button":{},"pageview-count":{},"expandable-chapters-small":{},"copy-code-button":{},"advanced-emoji":{"embedEmojis":false},"sharing":{"qq":false,"all":["douban","facebook","google","hatenaBookmark","instapaper","linkedin","twitter","weibo","messenger","whatsapp"],"douban":false,"facebook":false,"weibo":true,"whatsapp":false,"line":true,"google":true,"qzone":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"insert-logo":{"style":"background: none; max-height: 30px; min-height: 30px","url":"static/images/qrcode_lviter.png"},"expandable-chapters":{}},"theme":"default","author":"lviter","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"越过山丘","language":"zh-hans","links":{"sidebar":{"GitHub":"https://github.com/lviter/professional"}},"gitbook":"*","description":"关注点分离"},"file":{"path":"解决方案/TiDB性能测试.md","mtime":"2024-08-01T09:49:44.491Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-08-01T09:50:34.181Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-insert-logo/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

