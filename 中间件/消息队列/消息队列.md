# 消息队列

缺点：系统可用性降低；系统复杂度提高；数据一致性问题

## 为什么用消息队列？

1. 解耦
    1. 通过MQ,Pub/Sub发布订阅消息模型，可以做到系统解耦
    2. A系统产生数据，发送到MQ，哪个系统需要，自己去MQ消费即可
    3. 新增一个系统，如果需要，直接可以对接消费
    4. 如果哪个系统不需要数据，直接取消消费即可
2. 异步
    1. 用户反问每个解耦请求必须在200ms以内完成，对用户无感知
    2. 异步处理，发送到队列效率快，不影响当前系统业务
3. 削峰
    1. 在某个时间点，访问量突然暴增，全部打到数据库可能导致数据库不可用，系统挂掉

## 如何保证消息队列的高可用

## 如何保证幂等性

## 保证消息的可靠性传输

## 保证消息的顺序性

## 解决消息队列的延时以及过期失效问题

## 如何设计一个消息队列
